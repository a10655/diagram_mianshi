<mxfile host="Electron" modified="2024-04-12T11:03:19.823Z" agent="Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) draw.io/24.1.0 Chrome/120.0.6099.109 Electron/28.1.0 Safari/537.36" etag="sHuX6yr5sfOdrpllqBAh" version="24.1.0" type="device">
  <diagram id="ohnXSiem4yEs87opojs4" name="HashMap">
    <mxGraphModel dx="3562" dy="1554" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="onKNXoKgGcAeMGmnEdmf-6" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="onKNXoKgGcAeMGmnEdmf-1" target="onKNXoKgGcAeMGmnEdmf-5" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="onKNXoKgGcAeMGmnEdmf-7" value="h=hash(key)" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="onKNXoKgGcAeMGmnEdmf-6" vertex="1" connectable="0">
          <mxGeometry x="-0.0397" y="-1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="onKNXoKgGcAeMGmnEdmf-1" value="&lt;meta charset=&quot;utf-8&quot;&gt;&lt;pre style=&quot;font-size: 10px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: left; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(251, 251, 251); text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial; color: rgb(187, 187, 187);&quot;&gt;&lt;font&gt;&lt;font style=&quot;font-size: 8px;&quot;&gt;&lt;span style=&quot;color: rgb(97, 175, 239);&quot;&gt;put&lt;/span&gt;(&lt;span style=&quot;color: rgb(229, 192, 123);&quot;&gt;K &lt;/span&gt;&lt;span style=&quot;color: rgb(209, 154, 102);&quot;&gt;key&lt;/span&gt;, &lt;span style=&quot;color: rgb(229, 192, 123);&quot;&gt;V &lt;/span&gt;&lt;span style=&quot;color: rgb(209, 154, 102);&quot;&gt;value&lt;/span&gt;)&lt;/font&gt;&lt;/font&gt;&lt;/pre&gt;" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="200" y="100" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="onKNXoKgGcAeMGmnEdmf-3" value="&lt;pre style=&quot;color: rgb(187, 187, 187); font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial;&quot;&gt;&lt;font style=&quot;&quot;&gt;&lt;font style=&quot;font-size: 8px;&quot;&gt;&lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic;&quot;&gt;public &lt;/span&gt;&lt;span style=&quot;color: rgb(229, 192, 123);&quot;&gt;V &lt;/span&gt;&lt;span style=&quot;color: rgb(97, 175, 239);&quot;&gt;put&lt;/span&gt;(&lt;span style=&quot;color: rgb(229, 192, 123);&quot;&gt;K &lt;/span&gt;&lt;span style=&quot;color: rgb(209, 154, 102);&quot;&gt;key&lt;/span&gt;, &lt;span style=&quot;color: rgb(229, 192, 123);&quot;&gt;V &lt;/span&gt;&lt;span style=&quot;color: rgb(209, 154, 102);&quot;&gt;value&lt;/span&gt;) {&lt;br style=&quot;&quot;&gt;    &lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic;&quot;&gt;return &lt;/span&gt;&lt;span style=&quot;color: rgb(97, 175, 239);&quot;&gt;putVal&lt;/span&gt;(&lt;span style=&quot;color: rgb(97, 175, 239);&quot;&gt;hash&lt;/span&gt;(&lt;span style=&quot;color: rgb(209, 154, 102);&quot;&gt;key&lt;/span&gt;), &lt;span style=&quot;color: rgb(209, 154, 102);&quot;&gt;key&lt;/span&gt;, &lt;span style=&quot;color: rgb(209, 154, 102);&quot;&gt;value&lt;/span&gt;, &lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic;&quot;&gt;false&lt;/span&gt;, &lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic;&quot;&gt;true&lt;/span&gt;);&lt;br style=&quot;&quot;&gt;}&lt;br style=&quot;&quot;&gt;&lt;/font&gt;&lt;span style=&quot;font-size: 10px;&quot;&gt;&lt;br style=&quot;font-size: 10px;&quot;&gt;&lt;/span&gt;&lt;/font&gt;&lt;/pre&gt;" style="text;whiteSpace=wrap;html=1;fillColor=#000000;strokeColor=none;gradientColor=none;rounded=1;glass=0;shadow=0;align=left;verticalAlign=middle;labelPosition=center;verticalLabelPosition=middle;fontSize=8;spacingTop=10;" parent="1" vertex="1">
          <mxGeometry x="501" y="85" width="270" height="60" as="geometry" />
        </mxCell>
        <mxCell id="onKNXoKgGcAeMGmnEdmf-22" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="onKNXoKgGcAeMGmnEdmf-5" target="onKNXoKgGcAeMGmnEdmf-21" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="onKNXoKgGcAeMGmnEdmf-5" value="&lt;pre style=&quot;font-size: 10px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: left; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(251, 251, 251); text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial; color: rgb(187, 187, 187);&quot;&gt;&lt;pre style=&quot;font-size: 8px;&quot;&gt;&lt;span style=&quot;color: rgb(97, 175, 239);&quot;&gt;putVal&lt;/span&gt;(&lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic;&quot;&gt;int &lt;/span&gt;&lt;span style=&quot;color: rgb(209, 154, 102);&quot;&gt;hash&lt;/span&gt;, &lt;span style=&quot;color: rgb(229, 192, 123);&quot;&gt;K &lt;/span&gt;&lt;span style=&quot;color: rgb(209, 154, 102);&quot;&gt;key&lt;/span&gt;, &lt;span style=&quot;color: rgb(229, 192, 123);&quot;&gt;V &lt;/span&gt;&lt;span style=&quot;color: rgb(209, 154, 102);&quot;&gt;value&lt;/span&gt;, &lt;br&gt;&lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic;&quot;&gt;&#x9;boolean &lt;/span&gt;&lt;span style=&quot;color: rgb(209, 154, 102);&quot;&gt;onlyIfAbsent&lt;/span&gt;,&lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic;&quot;&gt;boolean &lt;/span&gt;&lt;span style=&quot;color: rgb(209, 154, 102);&quot;&gt;evict&lt;/span&gt;)&lt;/pre&gt;&lt;/pre&gt;" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="150" y="208" width="220" height="46" as="geometry" />
        </mxCell>
        <mxCell id="onKNXoKgGcAeMGmnEdmf-10" value="&lt;pre style=&quot;color: rgb(187, 187, 187);&quot;&gt;&lt;span style=&quot;color: rgb(229, 192, 123);&quot;&gt;Node&lt;/span&gt;&amp;lt;&lt;span style=&quot;color: rgb(229, 192, 123);&quot;&gt;K&lt;/span&gt;,&lt;span style=&quot;color: rgb(229, 192, 123);&quot;&gt;V&lt;/span&gt;&amp;gt;[] tab; &lt;span style=&quot;color: rgb(229, 192, 123);&quot;&gt;Node&lt;/span&gt;&amp;lt;&lt;span style=&quot;color: rgb(229, 192, 123);&quot;&gt;K&lt;/span&gt;,&lt;span style=&quot;color: rgb(229, 192, 123);&quot;&gt;V&lt;/span&gt;&amp;gt; p; &lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic;&quot;&gt;int &lt;/span&gt;n, i;&lt;/pre&gt;" style="text;whiteSpace=wrap;html=1;fillColor=#000000;strokeColor=none;gradientColor=none;rounded=1;glass=0;shadow=0;align=left;verticalAlign=middle;labelPosition=center;verticalLabelPosition=middle;fontSize=8;spacingTop=0;" parent="1" vertex="1">
          <mxGeometry x="501" y="214" width="210" height="40" as="geometry" />
        </mxCell>
        <mxCell id="onKNXoKgGcAeMGmnEdmf-15" value="&lt;pre style=&quot;color: rgb(187, 187, 187);&quot;&gt;&lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic;&quot;&gt;static final int &lt;/span&gt;&lt;span style=&quot;color: rgb(97, 175, 239);&quot;&gt;hash&lt;/span&gt;(&lt;span style=&quot;color: rgb(229, 192, 123);&quot;&gt;Object &lt;/span&gt;&lt;span style=&quot;color: rgb(209, 154, 102);&quot;&gt;key&lt;/span&gt;) {&lt;br&gt;    &lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic;&quot;&gt;int &lt;/span&gt;h;&lt;br&gt;    &lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic;&quot;&gt;return &lt;/span&gt;(&lt;span style=&quot;color: rgb(209, 154, 102);&quot;&gt;key &lt;/span&gt;== &lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic;&quot;&gt;null&lt;/span&gt;) ? &lt;span style=&quot;color: rgb(209, 154, 102);&quot;&gt;0 &lt;/span&gt;: (h = &lt;span style=&quot;color: rgb(209, 154, 102);&quot;&gt;key&lt;/span&gt;.&lt;span style=&quot;color: rgb(97, 175, 239);&quot;&gt;hashCode&lt;/span&gt;()) ^ (h &amp;gt;&amp;gt;&amp;gt; &lt;span style=&quot;color: rgb(209, 154, 102);&quot;&gt;16&lt;/span&gt;);&lt;br&gt;}&lt;/pre&gt;" style="text;whiteSpace=wrap;html=1;fillColor=#000000;strokeColor=none;gradientColor=none;rounded=1;glass=0;shadow=0;align=left;verticalAlign=middle;labelPosition=center;verticalLabelPosition=middle;fontSize=8;spacingTop=0;" parent="1" vertex="1">
          <mxGeometry x="501" y="152" width="326" height="50" as="geometry" />
        </mxCell>
        <mxCell id="onKNXoKgGcAeMGmnEdmf-16" value="&lt;pre style=&quot;font-size: 12px; color: rgb(187, 187, 187);&quot;&gt;&lt;pre&gt;异或操作的特点是，&lt;/pre&gt;&lt;pre&gt;如果两个位不同，则结果为1，&lt;br&gt;如果两个位相同，则结果为0。这样可以保留hashCode的高位和低位的特征。&lt;br&gt;&lt;br&gt;这个表达式的目的是将hashCode的高位信息下移到低位，以便在计算&lt;br&gt;哈希桶索引时，高位和低位信息都能起到作用&lt;br&gt;&lt;br&gt;总的来说，这个表达式的目的是为了更好地分散哈希值，减少哈希冲突，从而提高HashMap的性能&lt;/pre&gt;&lt;/pre&gt;" style="whiteSpace=wrap;html=1;fontSize=8;align=left;fillColor=#000000;strokeColor=none;gradientColor=none;rounded=0;glass=0;shadow=0;spacingTop=0;" parent="1" vertex="1">
          <mxGeometry x="860" y="59" width="540" height="143" as="geometry" />
        </mxCell>
        <mxCell id="onKNXoKgGcAeMGmnEdmf-19" value="" style="endArrow=none;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=-0.002;entryY=0.823;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" source="onKNXoKgGcAeMGmnEdmf-15" target="onKNXoKgGcAeMGmnEdmf-16" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="880" y="310" as="sourcePoint" />
            <mxPoint x="930" y="260" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="onKNXoKgGcAeMGmnEdmf-20" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="1" source="onKNXoKgGcAeMGmnEdmf-5" target="onKNXoKgGcAeMGmnEdmf-5" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="onKNXoKgGcAeMGmnEdmf-27" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="onKNXoKgGcAeMGmnEdmf-21" target="onKNXoKgGcAeMGmnEdmf-26" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="onKNXoKgGcAeMGmnEdmf-28" value="是" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="onKNXoKgGcAeMGmnEdmf-27" vertex="1" connectable="0">
          <mxGeometry x="0.0262" y="1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="onKNXoKgGcAeMGmnEdmf-32" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="onKNXoKgGcAeMGmnEdmf-21" target="onKNXoKgGcAeMGmnEdmf-31" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="onKNXoKgGcAeMGmnEdmf-40" value="否" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="onKNXoKgGcAeMGmnEdmf-32" vertex="1" connectable="0">
          <mxGeometry x="-0.65" relative="1" as="geometry">
            <mxPoint y="-2" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="onKNXoKgGcAeMGmnEdmf-21" value="判断数组是否为空" style="rhombus;whiteSpace=wrap;html=1;rounded=1;" parent="1" vertex="1">
          <mxGeometry x="200" y="317" width="120" height="80" as="geometry" />
        </mxCell>
        <mxCell id="onKNXoKgGcAeMGmnEdmf-25" value="&lt;pre style=&quot;color: rgb(187, 187, 187);&quot;&gt;&lt;pre&gt;&lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic;&quot;&gt;if &lt;/span&gt;((tab = &lt;span style=&quot;color: rgb(239, 89, 111);&quot;&gt;table&lt;/span&gt;) == &lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic;&quot;&gt;null &lt;/span&gt;|| (n = tab.&lt;span style=&quot;color: rgb(239, 89, 111);&quot;&gt;length&lt;/span&gt;) == &lt;span style=&quot;color: rgb(209, 154, 102);&quot;&gt;0&lt;/span&gt;)&lt;/pre&gt;&lt;/pre&gt;" style="text;whiteSpace=wrap;html=1;fillColor=#000000;strokeColor=none;gradientColor=none;rounded=1;glass=0;shadow=0;align=left;verticalAlign=middle;labelPosition=center;verticalLabelPosition=middle;fontSize=8;spacingTop=0;" parent="1" vertex="1">
          <mxGeometry x="501" y="337" width="249" height="40" as="geometry" />
        </mxCell>
        <mxCell id="onKNXoKgGcAeMGmnEdmf-39" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="onKNXoKgGcAeMGmnEdmf-26" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="260" y="440" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="onKNXoKgGcAeMGmnEdmf-26" value="创建/扩容数组" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="330" y="426" width="140" height="30" as="geometry" />
        </mxCell>
        <mxCell id="onKNXoKgGcAeMGmnEdmf-48" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="onKNXoKgGcAeMGmnEdmf-31" target="onKNXoKgGcAeMGmnEdmf-47" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="onKNXoKgGcAeMGmnEdmf-49" value="是" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="onKNXoKgGcAeMGmnEdmf-48" vertex="1" connectable="0">
          <mxGeometry x="-0.4093" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="onKNXoKgGcAeMGmnEdmf-51" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="onKNXoKgGcAeMGmnEdmf-31" target="onKNXoKgGcAeMGmnEdmf-50" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="onKNXoKgGcAeMGmnEdmf-52" value="否" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="onKNXoKgGcAeMGmnEdmf-51" vertex="1" connectable="0">
          <mxGeometry x="-0.1396" y="1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="onKNXoKgGcAeMGmnEdmf-31" value="&lt;span style=&quot;text-align: left;&quot;&gt;待插入元素&lt;/span&gt;&lt;span style=&quot;text-align: left;&quot;&gt;对应&lt;/span&gt;&lt;span style=&quot;text-align: left;&quot;&gt;数组中&lt;/span&gt;&lt;span style=&quot;text-align: left;&quot;&gt;的&lt;/span&gt;&lt;div&gt;&lt;span style=&quot;text-align: left;&quot;&gt;index的hash桶是否为null&lt;/span&gt;&lt;/div&gt;" style="rhombus;whiteSpace=wrap;html=1;rounded=1;" parent="1" vertex="1">
          <mxGeometry x="170" y="477" width="180" height="113" as="geometry" />
        </mxCell>
        <mxCell id="onKNXoKgGcAeMGmnEdmf-34" value="&lt;pre style=&quot;color: rgb(187, 187, 187); font-size: 8px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: left; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial;&quot;&gt;&lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic;&quot;&gt;final &lt;/span&gt;&lt;span style=&quot;color: rgb(229, 192, 123);&quot;&gt;Node&lt;/span&gt;&amp;lt;&lt;span style=&quot;color: rgb(229, 192, 123);&quot;&gt;K&lt;/span&gt;,&lt;span style=&quot;color: rgb(229, 192, 123);&quot;&gt;V&lt;/span&gt;&amp;gt;[] &lt;span style=&quot;color: rgb(97, 175, 239);&quot;&gt;resize&lt;/span&gt;() {&lt;br&gt;    &lt;span style=&quot;color: rgb(229, 192, 123);&quot;&gt;Node&lt;/span&gt;&amp;lt;&lt;span style=&quot;color: rgb(229, 192, 123);&quot;&gt;K&lt;/span&gt;,&lt;span style=&quot;color: rgb(229, 192, 123);&quot;&gt;V&lt;/span&gt;&amp;gt;[] oldTab = &lt;span style=&quot;color: rgb(239, 89, 111);&quot;&gt;table&lt;/span&gt;;&lt;br&gt;    &lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic;&quot;&gt;int &lt;/span&gt;oldCap = (oldTab == &lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic;&quot;&gt;null&lt;/span&gt;) ? &lt;span style=&quot;color: rgb(209, 154, 102);&quot;&gt;0 &lt;/span&gt;: oldTab.&lt;span style=&quot;color: rgb(239, 89, 111);&quot;&gt;length&lt;/span&gt;;&lt;br&gt;    &lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic;&quot;&gt;int &lt;/span&gt;oldThr = &lt;span style=&quot;color: rgb(239, 89, 111);&quot;&gt;threshold&lt;/span&gt;;&lt;br&gt;    &lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic;&quot;&gt;int &lt;/span&gt;newCap, newThr = &lt;span style=&quot;color: rgb(209, 154, 102);&quot;&gt;0&lt;/span&gt;;&lt;br&gt;    &lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic;&quot;&gt;if &lt;/span&gt;(oldCap &amp;gt; &lt;span style=&quot;color: rgb(209, 154, 102);&quot;&gt;0&lt;/span&gt;) {&lt;br&gt;        &lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic;&quot;&gt;if &lt;/span&gt;(oldCap &amp;gt;= &lt;span style=&quot;color: rgb(209, 154, 102);&quot;&gt;MAXIMUM_CAPACITY&lt;/span&gt;) {&lt;br&gt;            &lt;span style=&quot;color: rgb(239, 89, 111);&quot;&gt;threshold &lt;/span&gt;= &lt;span style=&quot;color: rgb(229, 192, 123);&quot;&gt;Integer&lt;/span&gt;.&lt;span style=&quot;color: rgb(209, 154, 102);&quot;&gt;MAX_VALUE&lt;/span&gt;;&lt;br&gt;            &lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic;&quot;&gt;return &lt;/span&gt;oldTab;&lt;br&gt;        }&lt;br&gt;        &lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic;&quot;&gt;else if &lt;/span&gt;((newCap = oldCap &amp;lt;&amp;lt; &lt;span style=&quot;color: rgb(209, 154, 102);&quot;&gt;1&lt;/span&gt;) &amp;lt; &lt;span style=&quot;color: rgb(209, 154, 102);&quot;&gt;MAXIMUM_CAPACITY &lt;/span&gt;&amp;amp;&amp;amp;&lt;br&gt;                 oldCap &amp;gt;= &lt;span style=&quot;color: rgb(209, 154, 102);&quot;&gt;DEFAULT_INITIAL_CAPACITY&lt;/span&gt;)&lt;br&gt;            newThr = oldThr &amp;lt;&amp;lt; &lt;span style=&quot;color: rgb(209, 154, 102);&quot;&gt;1&lt;/span&gt;; &lt;span style=&quot;color: rgb(92, 99, 112); font-style: italic;&quot;&gt;// double threshold&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(92, 99, 112); font-style: italic;&quot;&gt;    &lt;/span&gt;}&lt;br&gt;    &lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic;&quot;&gt;else if &lt;/span&gt;(oldThr &amp;gt; &lt;span style=&quot;color: rgb(209, 154, 102);&quot;&gt;0&lt;/span&gt;) &lt;span style=&quot;color: rgb(92, 99, 112); font-style: italic;&quot;&gt;// initial capacity was placed in threshold&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(92, 99, 112); font-style: italic;&quot;&gt;        &lt;/span&gt;newCap = oldThr;&lt;br&gt;    &lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic;&quot;&gt;else &lt;/span&gt;{               &lt;span style=&quot;color: rgb(92, 99, 112); font-style: italic;&quot;&gt;// zero initial threshold signifies using defaults&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(92, 99, 112); font-style: italic;&quot;&gt;        &lt;/span&gt;newCap = &lt;span style=&quot;color: rgb(209, 154, 102);&quot;&gt;DEFAULT_INITIAL_CAPACITY&lt;/span&gt;;&lt;br&gt;        newThr = (&lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic;&quot;&gt;int&lt;/span&gt;)(&lt;span style=&quot;color: rgb(209, 154, 102);&quot;&gt;DEFAULT_LOAD_FACTOR &lt;/span&gt;* &lt;span style=&quot;color: rgb(209, 154, 102);&quot;&gt;DEFAULT_INITIAL_CAPACITY&lt;/span&gt;);&lt;br&gt;    }&lt;br&gt;    &lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic;&quot;&gt;if &lt;/span&gt;(newThr == &lt;span style=&quot;color: rgb(209, 154, 102);&quot;&gt;0&lt;/span&gt;) {&lt;br&gt;        &lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic;&quot;&gt;float &lt;/span&gt;ft = (&lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic;&quot;&gt;float&lt;/span&gt;)newCap * &lt;span style=&quot;color: rgb(239, 89, 111);&quot;&gt;loadFactor&lt;/span&gt;;&lt;br&gt;        newThr = (newCap &amp;lt; &lt;span style=&quot;color: rgb(209, 154, 102);&quot;&gt;MAXIMUM_CAPACITY &lt;/span&gt;&amp;amp;&amp;amp; ft &amp;lt; (&lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic;&quot;&gt;float&lt;/span&gt;)&lt;span style=&quot;color: rgb(209, 154, 102);&quot;&gt;MAXIMUM_CAPACITY &lt;/span&gt;?&lt;br&gt;                  (&lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic;&quot;&gt;int&lt;/span&gt;)ft : &lt;span style=&quot;color: rgb(229, 192, 123);&quot;&gt;Integer&lt;/span&gt;.&lt;span style=&quot;color: rgb(209, 154, 102);&quot;&gt;MAX_VALUE&lt;/span&gt;);&lt;br&gt;    }&lt;br&gt;    &lt;span style=&quot;color: rgb(239, 89, 111);&quot;&gt;threshold &lt;/span&gt;= newThr;&lt;br&gt;    &lt;span style=&quot;color: rgb(229, 192, 123); font-style: italic;&quot;&gt;@SuppressWarnings&lt;/span&gt;({&lt;span style=&quot;color: rgb(137, 202, 120);&quot;&gt;&quot;rawtypes&quot;&lt;/span&gt;,&lt;span style=&quot;color: rgb(137, 202, 120);&quot;&gt;&quot;unchecked&quot;&lt;/span&gt;})&lt;br&gt;        &lt;span style=&quot;color: rgb(229, 192, 123);&quot;&gt;Node&lt;/span&gt;&amp;lt;&lt;span style=&quot;color: rgb(229, 192, 123);&quot;&gt;K&lt;/span&gt;,&lt;span style=&quot;color: rgb(229, 192, 123);&quot;&gt;V&lt;/span&gt;&amp;gt;[] newTab = (&lt;span style=&quot;color: rgb(229, 192, 123);&quot;&gt;Node&lt;/span&gt;&amp;lt;&lt;span style=&quot;color: rgb(229, 192, 123);&quot;&gt;K&lt;/span&gt;,&lt;span style=&quot;color: rgb(229, 192, 123);&quot;&gt;V&lt;/span&gt;&amp;gt;[])&lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic;&quot;&gt;new &lt;/span&gt;&lt;span style=&quot;color: rgb(229, 192, 123);&quot;&gt;Node&lt;/span&gt;[newCap];&lt;br&gt;    &lt;span style=&quot;color: rgb(239, 89, 111);&quot;&gt;table &lt;/span&gt;= newTab;&lt;br&gt;    &lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic;&quot;&gt;if &lt;/span&gt;(oldTab != &lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic;&quot;&gt;null&lt;/span&gt;) {&lt;br&gt;        &lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic;&quot;&gt;for &lt;/span&gt;(&lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic;&quot;&gt;int &lt;/span&gt;j = &lt;span style=&quot;color: rgb(209, 154, 102);&quot;&gt;0&lt;/span&gt;; j &amp;lt; oldCap; ++j) {&lt;br&gt;            &lt;span style=&quot;color: rgb(229, 192, 123);&quot;&gt;Node&lt;/span&gt;&amp;lt;&lt;span style=&quot;color: rgb(229, 192, 123);&quot;&gt;K&lt;/span&gt;,&lt;span style=&quot;color: rgb(229, 192, 123);&quot;&gt;V&lt;/span&gt;&amp;gt; e;&lt;br&gt;            &lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic;&quot;&gt;if &lt;/span&gt;((e = oldTab[j]) != &lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic;&quot;&gt;null&lt;/span&gt;) {&lt;br&gt;                oldTab[j] = &lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic;&quot;&gt;null&lt;/span&gt;;&lt;br&gt;                &lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic;&quot;&gt;if &lt;/span&gt;(e.&lt;span style=&quot;color: rgb(239, 89, 111);&quot;&gt;next &lt;/span&gt;== &lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic;&quot;&gt;null&lt;/span&gt;)&lt;br/&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;    //对应index的hash桶只有一个元素&lt;br&gt;                    newTab[e.&lt;span style=&quot;color: rgb(239, 89, 111);&quot;&gt;hash &lt;/span&gt;&amp;amp; (newCap - &lt;span style=&quot;color: rgb(209, 154, 102);&quot;&gt;1&lt;/span&gt;)] = e;&lt;br&gt;                &lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic;&quot;&gt;else if &lt;/span&gt;(e &lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic;&quot;&gt;instanceof &lt;/span&gt;&lt;span style=&quot;color: rgb(229, 192, 123);&quot;&gt;TreeNode&lt;/span&gt;)&lt;br&gt;                    ((&lt;span style=&quot;color: rgb(229, 192, 123);&quot;&gt;TreeNode&lt;/span&gt;&amp;lt;&lt;span style=&quot;color: rgb(229, 192, 123);&quot;&gt;K&lt;/span&gt;,&lt;span style=&quot;color: rgb(229, 192, 123);&quot;&gt;V&lt;/span&gt;&amp;gt;)e).split(&lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic;&quot;&gt;this&lt;/span&gt;, newTab, j, oldCap);&lt;br&gt;                &lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic;&quot;&gt;else &lt;/span&gt;{ &lt;span style=&quot;color: rgb(92, 99, 112); font-style: italic;&quot;&gt;// preserve order&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(92, 99, 112); font-style: italic;&quot;&gt;                    &lt;/span&gt;&lt;span style=&quot;color: rgb(229, 192, 123);&quot;&gt;Node&lt;/span&gt;&amp;lt;&lt;span style=&quot;color: rgb(229, 192, 123);&quot;&gt;K&lt;/span&gt;,&lt;span style=&quot;color: rgb(229, 192, 123);&quot;&gt;V&lt;/span&gt;&amp;gt; loHead = &lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic;&quot;&gt;null&lt;/span&gt;, loTail = &lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic;&quot;&gt;null&lt;/span&gt;;&lt;br&gt;                    &lt;span style=&quot;color: rgb(229, 192, 123);&quot;&gt;Node&lt;/span&gt;&amp;lt;&lt;span style=&quot;color: rgb(229, 192, 123);&quot;&gt;K&lt;/span&gt;,&lt;span style=&quot;color: rgb(229, 192, 123);&quot;&gt;V&lt;/span&gt;&amp;gt; hiHead = &lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic;&quot;&gt;null&lt;/span&gt;, hiTail = &lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic;&quot;&gt;null&lt;/span&gt;;&lt;br&gt;                    &lt;span style=&quot;color: rgb(229, 192, 123);&quot;&gt;Node&lt;/span&gt;&amp;lt;&lt;span style=&quot;color: rgb(229, 192, 123);&quot;&gt;K&lt;/span&gt;,&lt;span style=&quot;color: rgb(229, 192, 123);&quot;&gt;V&lt;/span&gt;&amp;gt; next;&lt;br&gt;                    &lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic;&quot;&gt;do &lt;/span&gt;{&lt;br&gt;                        next = e.&lt;span style=&quot;color: rgb(239, 89, 111);&quot;&gt;next&lt;/span&gt;;&lt;br&gt;                        &lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic;&quot;&gt;if &lt;/span&gt;((e.&lt;span style=&quot;color: rgb(239, 89, 111);&quot;&gt;hash &lt;/span&gt;&amp;amp; oldCap) == &lt;span style=&quot;color: rgb(209, 154, 102);&quot;&gt;0&lt;/span&gt;) {&lt;br&gt;                            &lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic;&quot;&gt;if &lt;/span&gt;(loTail == &lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic;&quot;&gt;null&lt;/span&gt;)&lt;br&gt;                                loHead = e;&lt;br&gt;                            &lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic;&quot;&gt;else&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic;&quot;&gt;                                &lt;/span&gt;loTail.&lt;span style=&quot;color: rgb(239, 89, 111);&quot;&gt;next &lt;/span&gt;= e;&lt;br&gt;                            loTail = e;&lt;br&gt;                        }&lt;br&gt;                        &lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic;&quot;&gt;else &lt;/span&gt;{&lt;br&gt;                            &lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic;&quot;&gt;if &lt;/span&gt;(hiTail == &lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic;&quot;&gt;null&lt;/span&gt;)&lt;br&gt;                                hiHead = e;&lt;br&gt;                            &lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic;&quot;&gt;else&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic;&quot;&gt;                                &lt;/span&gt;hiTail.&lt;span style=&quot;color: rgb(239, 89, 111);&quot;&gt;next &lt;/span&gt;= e;&lt;br&gt;                            hiTail = e;&lt;br&gt;                        }&lt;br&gt;                    } &lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic;&quot;&gt;while &lt;/span&gt;((e = next) != &lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic;&quot;&gt;null&lt;/span&gt;);&lt;br&gt;                    &lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic;&quot;&gt;if &lt;/span&gt;(loTail != &lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic;&quot;&gt;null&lt;/span&gt;) {&lt;br&gt;                        loTail.&lt;span style=&quot;color: rgb(239, 89, 111);&quot;&gt;next &lt;/span&gt;= &lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic;&quot;&gt;null&lt;/span&gt;;&lt;br&gt;                        newTab[j] = loHead;&lt;br&gt;                    }&lt;br&gt;                    &lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic;&quot;&gt;if &lt;/span&gt;(hiTail != &lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic;&quot;&gt;null&lt;/span&gt;) {&lt;br&gt;                        hiTail.&lt;span style=&quot;color: rgb(239, 89, 111);&quot;&gt;next &lt;/span&gt;= &lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic;&quot;&gt;null&lt;/span&gt;;&lt;br&gt;                        newTab[j + oldCap] = hiHead;&lt;br&gt;                    }&lt;br&gt;                }&lt;br&gt;            }&lt;br&gt;        }&lt;br&gt;    }&lt;br&gt;    &lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic;&quot;&gt;return &lt;/span&gt;newTab;&lt;br&gt;}&lt;/pre&gt;" style="text;whiteSpace=wrap;html=1;fillColor=#000000;" parent="1" vertex="1">
          <mxGeometry x="827" y="397" width="573" height="720" as="geometry" />
        </mxCell>
        <mxCell id="onKNXoKgGcAeMGmnEdmf-36" value="&lt;span style=&quot;color: rgb(187, 187, 187); font-size: 16px; text-wrap: nowrap;&quot;&gt;计&lt;br style=&quot;font-size: 16px;&quot;&gt;算&lt;br style=&quot;font-size: 16px;&quot;&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(187, 187, 187); font-size: 16px; text-wrap: nowrap;&quot;&gt;新&lt;br style=&quot;font-size: 16px;&quot;&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(187, 187, 187); font-size: 16px; text-wrap: nowrap;&quot;&gt;的&lt;br style=&quot;font-size: 16px;&quot;&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(187, 187, 187); font-size: 16px; text-wrap: nowrap;&quot;&gt;数&lt;br style=&quot;font-size: 16px;&quot;&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(187, 187, 187); font-size: 16px; text-wrap: nowrap;&quot;&gt;组&lt;br style=&quot;font-size: 16px;&quot;&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(187, 187, 187); font-size: 16px; text-wrap: nowrap;&quot;&gt;长&lt;br style=&quot;font-size: 16px;&quot;&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(187, 187, 187); font-size: 16px; text-wrap: nowrap;&quot;&gt;度&lt;br style=&quot;font-size: 16px;&quot;&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(187, 187, 187); font-size: 16px; text-wrap: nowrap;&quot;&gt;和&lt;br style=&quot;font-size: 16px;&quot;&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(187, 187, 187); font-size: 16px; text-wrap: nowrap;&quot;&gt;扩&lt;br style=&quot;font-size: 16px;&quot;&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(187, 187, 187); font-size: 16px; text-wrap: nowrap;&quot;&gt;容&lt;br style=&quot;font-size: 16px;&quot;&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(187, 187, 187); font-size: 16px; text-wrap: nowrap;&quot;&gt;阈&lt;br style=&quot;font-size: 16px;&quot;&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(187, 187, 187); font-size: 16px; text-wrap: nowrap;&quot;&gt;值&lt;/span&gt;" style="text;whiteSpace=wrap;html=1;fillColor=#000000;fontSize=16;" parent="1" vertex="1">
          <mxGeometry x="1221" y="397" width="40" height="263" as="geometry" />
        </mxCell>
        <mxCell id="onKNXoKgGcAeMGmnEdmf-37" value="&lt;span style=&quot;color: rgb(187, 187, 187); font-size: 10px;&quot;&gt;在map的数组中对应的&lt;/span&gt;&lt;span style=&quot;color: rgb(187, 187, 187); font-size: 10px; background-color: initial;&quot;&gt;链表位置上只有一个元素，&lt;/span&gt;&lt;div&gt;&lt;span style=&quot;color: rgb(187, 187, 187); font-size: 10px; background-color: initial;&quot;&gt;就直接插入新的位置&lt;/span&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="1130" y="720" width="240" height="40" as="geometry" />
        </mxCell>
        <mxCell id="onKNXoKgGcAeMGmnEdmf-38" value="&lt;div style=&quot;text-align: left;&quot;&gt;&lt;span style=&quot;background-color: initial; font-size: 10px;&quot;&gt;&lt;font color=&quot;#bbbbbb&quot;&gt;oldCap : 10000 --&amp;gt; 16&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;span style=&quot;background-color: initial; font-size: 10px;&quot;&gt;&lt;font color=&quot;#bbbbbb&quot;&gt;newCap:100000 --&amp;gt; 32&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;span style=&quot;background-color: initial; font-size: 10px;&quot;&gt;&lt;font color=&quot;#bbbbbb&quot;&gt;e.hash&amp;amp;oldCap == 0;就不用与newCap-1做比较了&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;span style=&quot;background-color: initial; font-size: 10px;&quot;&gt;&lt;font color=&quot;#bbbbbb&quot;&gt;做数据转移，转移到新的数组hash桶里&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;span style=&quot;background-color: initial; font-size: 10px;&quot;&gt;&lt;font color=&quot;#bbbbbb&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;span style=&quot;background-color: initial; font-size: 10px;&quot;&gt;&lt;font color=&quot;#bbbbbb&quot;&gt;1、为什么不直接把e的链接放进新的数组hash桶的位置上？&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;span style=&quot;background-color: initial; font-size: 10px;&quot;&gt;&lt;font color=&quot;#bbbbbb&quot;&gt;有可能在当前e这个链表中，后继元素可能会放在高位上的数组hash桶中&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;span style=&quot;background-color: initial; font-size: 10px;&quot;&gt;&lt;font color=&quot;#bbbbbb&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="1063" y="870" width="340" height="140" as="geometry" />
        </mxCell>
        <mxCell id="onKNXoKgGcAeMGmnEdmf-46" value="&lt;pre style=&quot;color: rgb(187, 187, 187);&quot;&gt;&lt;pre&gt;&lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic;&quot;&gt;if &lt;/span&gt;((p = tab[i = (n - &lt;span style=&quot;color: rgb(209, 154, 102);&quot;&gt;1&lt;/span&gt;) &amp;amp; &lt;span style=&quot;color: rgb(209, 154, 102);&quot;&gt;hash&lt;/span&gt;]) == &lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic;&quot;&gt;null&lt;/span&gt;)&lt;/pre&gt;&lt;/pre&gt;" style="text;whiteSpace=wrap;html=1;fillColor=#000000;strokeColor=none;gradientColor=none;rounded=1;glass=0;shadow=0;align=left;verticalAlign=middle;labelPosition=center;verticalLabelPosition=middle;fontSize=8;spacingTop=0;" parent="1" vertex="1">
          <mxGeometry x="501" y="500" width="249" height="40" as="geometry" />
        </mxCell>
        <mxCell id="onKNXoKgGcAeMGmnEdmf-110" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="onKNXoKgGcAeMGmnEdmf-47" target="onKNXoKgGcAeMGmnEdmf-58" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="430" y="807" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="onKNXoKgGcAeMGmnEdmf-47" value="创建一个新的Node放入数组对应的index位置上" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="370" y="620" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="onKNXoKgGcAeMGmnEdmf-59" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="onKNXoKgGcAeMGmnEdmf-50" target="onKNXoKgGcAeMGmnEdmf-58" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="onKNXoKgGcAeMGmnEdmf-50" value="在对应的位置上插入或者更新元素值" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="200" y="696.5" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="onKNXoKgGcAeMGmnEdmf-55" value="&lt;pre style=&quot;color: rgb(187, 187, 187);&quot;&gt;&lt;pre&gt;tab[i] = &lt;span style=&quot;color: rgb(97, 175, 239);&quot;&gt;newNode&lt;/span&gt;(&lt;span style=&quot;color: rgb(209, 154, 102);&quot;&gt;hash&lt;/span&gt;, &lt;span style=&quot;color: rgb(209, 154, 102);&quot;&gt;key&lt;/span&gt;, &lt;span style=&quot;color: rgb(209, 154, 102);&quot;&gt;value&lt;/span&gt;, &lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic;&quot;&gt;null&lt;/span&gt;);&lt;/pre&gt;&lt;/pre&gt;" style="text;whiteSpace=wrap;html=1;fillColor=#000000;strokeColor=none;gradientColor=none;rounded=1;glass=0;shadow=0;align=left;verticalAlign=middle;labelPosition=center;verticalLabelPosition=middle;fontSize=8;spacingTop=0;" parent="1" vertex="1">
          <mxGeometry x="501" y="630" width="249" height="40" as="geometry" />
        </mxCell>
        <mxCell id="onKNXoKgGcAeMGmnEdmf-57" value="&lt;pre style=&quot;color: rgb(187, 187, 187);&quot;&gt;&lt;pre&gt;n = (tab = &lt;span style=&quot;color: rgb(97, 175, 239);&quot;&gt;resize&lt;/span&gt;()).&lt;span style=&quot;color: rgb(239, 89, 111);&quot;&gt;length&lt;/span&gt;;&lt;/pre&gt;&lt;/pre&gt;" style="text;whiteSpace=wrap;html=1;fillColor=#000000;strokeColor=none;gradientColor=none;rounded=1;glass=0;shadow=0;align=left;verticalAlign=middle;labelPosition=center;verticalLabelPosition=middle;fontSize=8;spacingTop=0;" parent="1" vertex="1">
          <mxGeometry x="501" y="419" width="249" height="40" as="geometry" />
        </mxCell>
        <mxCell id="onKNXoKgGcAeMGmnEdmf-61" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="onKNXoKgGcAeMGmnEdmf-58" target="onKNXoKgGcAeMGmnEdmf-60" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="onKNXoKgGcAeMGmnEdmf-58" value="增加修改次数" style="whiteSpace=wrap;html=1;rounded=1;" parent="1" vertex="1">
          <mxGeometry x="200" y="790" width="120" height="33.5" as="geometry" />
        </mxCell>
        <mxCell id="onKNXoKgGcAeMGmnEdmf-63" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="onKNXoKgGcAeMGmnEdmf-60" target="onKNXoKgGcAeMGmnEdmf-62" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="onKNXoKgGcAeMGmnEdmf-64" value="是" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="onKNXoKgGcAeMGmnEdmf-63" vertex="1" connectable="0">
          <mxGeometry x="-0.1828" y="1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="onKNXoKgGcAeMGmnEdmf-66" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="onKNXoKgGcAeMGmnEdmf-60" target="onKNXoKgGcAeMGmnEdmf-65" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="261" y="960" />
              <mxPoint x="261" y="960" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="onKNXoKgGcAeMGmnEdmf-67" value="否" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="onKNXoKgGcAeMGmnEdmf-66" vertex="1" connectable="0">
          <mxGeometry x="-0.2975" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="onKNXoKgGcAeMGmnEdmf-60" value="判断是否需要扩容" style="rhombus;whiteSpace=wrap;html=1;rounded=1;" parent="1" vertex="1">
          <mxGeometry x="201" y="857" width="119" height="83.25" as="geometry" />
        </mxCell>
        <mxCell id="onKNXoKgGcAeMGmnEdmf-70" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.75;entryDx=0;entryDy=0;" parent="1" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="459.5454545454545" y="910.005" as="sourcePoint" />
            <mxPoint x="321" y="996.6350000000001" as="targetPoint" />
            <Array as="points">
              <mxPoint x="460" y="996.38" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="onKNXoKgGcAeMGmnEdmf-62" value="进行扩容操作" style="whiteSpace=wrap;html=1;rounded=1;" parent="1" vertex="1">
          <mxGeometry x="370" y="868.625" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="onKNXoKgGcAeMGmnEdmf-69" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="onKNXoKgGcAeMGmnEdmf-65" target="onKNXoKgGcAeMGmnEdmf-68" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="onKNXoKgGcAeMGmnEdmf-65" value="插入节点后的操作&lt;div&gt;在LinkedHashMap中实现&lt;/div&gt;" style="whiteSpace=wrap;html=1;rounded=1;" parent="1" vertex="1">
          <mxGeometry x="201" y="970.2550000000001" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="onKNXoKgGcAeMGmnEdmf-68" value="返回null值" style="ellipse;whiteSpace=wrap;html=1;rounded=1;" parent="1" vertex="1">
          <mxGeometry x="221" y="1070.9950000000001" width="80" height="80" as="geometry" />
        </mxCell>
        <mxCell id="onKNXoKgGcAeMGmnEdmf-73" value="&lt;pre style=&quot;color: rgb(187, 187, 187);&quot;&gt;&lt;pre&gt;++&lt;span style=&quot;color: rgb(239, 89, 111);&quot;&gt;modCount&lt;/span&gt;;//有使用有fail-fast机制的迭代器遍历集合时，&lt;/pre&gt;&lt;pre&gt;有修改集合的操作也会抛出此异常&lt;/pre&gt;&lt;/pre&gt;" style="text;whiteSpace=wrap;html=1;fillColor=#000000;strokeColor=none;gradientColor=none;rounded=1;glass=0;shadow=0;align=left;verticalAlign=middle;labelPosition=center;verticalLabelPosition=middle;fontSize=8;spacingTop=0;" parent="1" vertex="1">
          <mxGeometry x="501" y="783.5" width="249" height="40" as="geometry" />
        </mxCell>
        <mxCell id="onKNXoKgGcAeMGmnEdmf-76" value="&lt;pre style=&quot;color: rgb(187, 187, 187);&quot;&gt;&lt;pre&gt;&lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic;&quot;&gt;if &lt;/span&gt;(++&lt;span style=&quot;color: rgb(239, 89, 111);&quot;&gt;size &lt;/span&gt;&amp;gt; &lt;span style=&quot;color: rgb(239, 89, 111);&quot;&gt;threshold&lt;/span&gt;)&lt;br&gt;    &lt;span style=&quot;color: rgb(97, 175, 239);&quot;&gt;resize&lt;/span&gt;();&lt;/pre&gt;&lt;/pre&gt;" style="text;whiteSpace=wrap;html=1;fillColor=#000000;strokeColor=none;gradientColor=none;rounded=1;glass=0;shadow=0;align=left;verticalAlign=middle;labelPosition=center;verticalLabelPosition=middle;fontSize=8;spacingTop=0;" parent="1" vertex="1">
          <mxGeometry x="501" y="878.62" width="249" height="40" as="geometry" />
        </mxCell>
        <mxCell id="onKNXoKgGcAeMGmnEdmf-80" value="&lt;pre style=&quot;color: rgb(187, 187, 187);&quot;&gt;&lt;pre&gt;&lt;span style=&quot;color: rgb(97, 175, 239);&quot;&gt;afterNodeInsertion&lt;/span&gt;(&lt;span style=&quot;color: rgb(209, 154, 102);&quot;&gt;evict&lt;/span&gt;);&lt;/pre&gt;&lt;/pre&gt;" style="text;whiteSpace=wrap;html=1;fillColor=#000000;strokeColor=none;gradientColor=none;rounded=1;glass=0;shadow=0;align=left;verticalAlign=middle;labelPosition=center;verticalLabelPosition=middle;fontSize=8;spacingTop=0;" parent="1" vertex="1">
          <mxGeometry x="501" y="980.26" width="249" height="40" as="geometry" />
        </mxCell>
        <mxCell id="onKNXoKgGcAeMGmnEdmf-84" value="&lt;pre style=&quot;color: rgb(187, 187, 187);&quot;&gt;&lt;pre&gt;&lt;span style=&quot;color: rgb(229, 192, 123);&quot;&gt;Node&lt;/span&gt;&amp;lt;&lt;span style=&quot;color: rgb(229, 192, 123);&quot;&gt;K&lt;/span&gt;,&lt;span style=&quot;color: rgb(229, 192, 123);&quot;&gt;V&lt;/span&gt;&amp;gt; e; &lt;span style=&quot;color: rgb(229, 192, 123);&quot;&gt;K &lt;/span&gt;k;&lt;br&gt;&lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic;&quot;&gt;if &lt;/span&gt;(p.&lt;span style=&quot;color: rgb(239, 89, 111);&quot;&gt;hash &lt;/span&gt;== &lt;span style=&quot;color: rgb(209, 154, 102);&quot;&gt;hash &lt;/span&gt;&amp;amp;&amp;amp;&lt;br&gt;    ((k = p.&lt;span style=&quot;color: rgb(239, 89, 111);&quot;&gt;key&lt;/span&gt;) == &lt;span style=&quot;color: rgb(209, 154, 102);&quot;&gt;key &lt;/span&gt;|| (&lt;span style=&quot;color: rgb(209, 154, 102);&quot;&gt;key &lt;/span&gt;!= &lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic;&quot;&gt;null &lt;/span&gt;&amp;amp;&amp;amp; &lt;span style=&quot;color: rgb(209, 154, 102);&quot;&gt;key&lt;/span&gt;.&lt;span style=&quot;color: rgb(97, 175, 239);&quot;&gt;equals&lt;/span&gt;(k))))&lt;br&gt;    e = p;&lt;br&gt;&lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic;&quot;&gt;else if &lt;/span&gt;(p &lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic;&quot;&gt;instanceof &lt;/span&gt;&lt;span style=&quot;color: rgb(229, 192, 123);&quot;&gt;TreeNode&lt;/span&gt;)&lt;br&gt;    e = ((&lt;span style=&quot;color: rgb(229, 192, 123);&quot;&gt;TreeNode&lt;/span&gt;&amp;lt;&lt;span style=&quot;color: rgb(229, 192, 123);&quot;&gt;K&lt;/span&gt;,&lt;span style=&quot;color: rgb(229, 192, 123);&quot;&gt;V&lt;/span&gt;&amp;gt;)p).putTreeVal(&lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic;&quot;&gt;this&lt;/span&gt;, tab, &lt;span style=&quot;color: rgb(209, 154, 102);&quot;&gt;hash&lt;/span&gt;, &lt;span style=&quot;color: rgb(209, 154, 102);&quot;&gt;key&lt;/span&gt;, &lt;span style=&quot;color: rgb(209, 154, 102);&quot;&gt;value&lt;/span&gt;);&lt;br&gt;&lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic;&quot;&gt;else &lt;/span&gt;{&lt;br&gt;    &lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic;&quot;&gt;for &lt;/span&gt;(&lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic;&quot;&gt;int &lt;/span&gt;binCount = &lt;span style=&quot;color: rgb(209, 154, 102);&quot;&gt;0&lt;/span&gt;; ; ++binCount) {&lt;br&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;//1、遍历到链表尾部，在最后插入新节点并跳出；因链表长度+1，所以判断是否需要树化&lt;span style=&quot;white-space: pre;&quot;&gt;&lt;br&gt;&lt;/span&gt;        &lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic;&quot;&gt;if &lt;/span&gt;((e = p.&lt;span style=&quot;color: rgb(239, 89, 111);&quot;&gt;next&lt;/span&gt;) == &lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic;&quot;&gt;null&lt;/span&gt;) {&lt;br&gt;            p.&lt;span style=&quot;color: rgb(239, 89, 111);&quot;&gt;next &lt;/span&gt;= &lt;span style=&quot;color: rgb(97, 175, 239);&quot;&gt;newNode&lt;/span&gt;(&lt;span style=&quot;color: rgb(209, 154, 102);&quot;&gt;hash&lt;/span&gt;, &lt;span style=&quot;color: rgb(209, 154, 102);&quot;&gt;key&lt;/span&gt;, &lt;span style=&quot;color: rgb(209, 154, 102);&quot;&gt;value&lt;/span&gt;, &lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic;&quot;&gt;null&lt;/span&gt;);&lt;br&gt;            &lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic;&quot;&gt;if &lt;/span&gt;(binCount &amp;gt;= &lt;span style=&quot;color: rgb(209, 154, 102);&quot;&gt;TREEIFY_THRESHOLD &lt;/span&gt;- &lt;span style=&quot;color: rgb(209, 154, 102);&quot;&gt;1&lt;/span&gt;) &lt;span style=&quot;color: rgb(92, 99, 112); font-style: italic;&quot;&gt;// -1 for 1st；&lt;/span&gt;binCount从0计数&lt;span style=&quot;color: rgb(92, 99, 112); font-style: italic;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(92, 99, 112); font-style: italic;&quot;&gt;                &lt;/span&gt;&lt;span style=&quot;color: rgb(97, 175, 239);&quot;&gt;treeifyBin&lt;/span&gt;(tab, &lt;span style=&quot;color: rgb(209, 154, 102);&quot;&gt;hash&lt;/span&gt;);&lt;br&gt;            &lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic;&quot;&gt;break&lt;/span&gt;;&lt;br&gt;        }&lt;br&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;//2、e指向的节点与要插入节点的key相同，此次put为覆盖旧值操作&lt;span style=&quot;white-space: pre;&quot;&gt;&lt;br&gt;&lt;/span&gt;        &lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic;&quot;&gt;if &lt;/span&gt;(e.&lt;span style=&quot;color: rgb(239, 89, 111);&quot;&gt;hash &lt;/span&gt;== &lt;span style=&quot;color: rgb(209, 154, 102);&quot;&gt;hash &lt;/span&gt;&amp;amp;&amp;amp;&lt;br&gt;            ((k = e.&lt;span style=&quot;color: rgb(239, 89, 111);&quot;&gt;key&lt;/span&gt;) == &lt;span style=&quot;color: rgb(209, 154, 102);&quot;&gt;key &lt;/span&gt;|| (&lt;span style=&quot;color: rgb(209, 154, 102);&quot;&gt;key &lt;/span&gt;!= &lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic;&quot;&gt;null &lt;/span&gt;&amp;amp;&amp;amp; &lt;span style=&quot;color: rgb(209, 154, 102);&quot;&gt;key&lt;/span&gt;.&lt;span style=&quot;color: rgb(97, 175, 239);&quot;&gt;equals&lt;/span&gt;(k))))&lt;br&gt;            &lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic;&quot;&gt;break&lt;/span&gt;;&lt;br&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;//遍历桶中链表，结合前面的e=p.next来做全链表的遍历操作&lt;span style=&quot;white-space: pre;&quot;&gt;&lt;br&gt;&lt;/span&gt;        p = e;&lt;br&gt;    }&lt;br&gt;}&lt;br&gt;&lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic;&quot;&gt;if &lt;/span&gt;(e != &lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic;&quot;&gt;null&lt;/span&gt;) { &lt;span style=&quot;color: rgb(92, 99, 112); font-style: italic;&quot;&gt;// existing mapping for key&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(92, 99, 112); font-style: italic;&quot;&gt;    &lt;/span&gt;&lt;span style=&quot;color: rgb(229, 192, 123);&quot;&gt;V &lt;/span&gt;oldValue = e.&lt;span style=&quot;color: rgb(239, 89, 111);&quot;&gt;value&lt;/span&gt;;&lt;br&gt;    &lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic;&quot;&gt;if &lt;/span&gt;(!&lt;span style=&quot;color: rgb(209, 154, 102);&quot;&gt;onlyIfAbsent &lt;/span&gt;|| oldValue == &lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic;&quot;&gt;null&lt;/span&gt;)&lt;br&gt;        e.&lt;span style=&quot;color: rgb(239, 89, 111);&quot;&gt;value &lt;/span&gt;= &lt;span style=&quot;color: rgb(209, 154, 102);&quot;&gt;value&lt;/span&gt;;&lt;br&gt;    &lt;span style=&quot;color: rgb(97, 175, 239);&quot;&gt;afterNodeAccess&lt;/span&gt;(e);&lt;br&gt;    &lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic;&quot;&gt;return &lt;/span&gt;oldValue;&lt;br&gt;}&lt;/pre&gt;&lt;/pre&gt;" style="text;whiteSpace=wrap;html=1;fillColor=#000000;strokeColor=none;gradientColor=none;rounded=0;glass=0;shadow=0;align=left;verticalAlign=middle;labelPosition=center;verticalLabelPosition=middle;fontSize=8;spacingTop=0;" parent="1" vertex="1">
          <mxGeometry x="-270" y="680.26" width="410" height="359.74" as="geometry" />
        </mxCell>
        <mxCell id="onKNXoKgGcAeMGmnEdmf-86" value="&lt;code style=&quot;font-size: 6px; font-style: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; white-space: normal; text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial; box-sizing: border-box; outline: 0px; font-family: &amp;quot;Source Code Pro&amp;quot;, &amp;quot;DejaVu Sans Mono&amp;quot;, &amp;quot;Ubuntu Mono&amp;quot;, &amp;quot;Anonymous Pro&amp;quot;, &amp;quot;Droid Sans Mono&amp;quot;, Menlo, Monaco, Consolas, Inconsolata, Courier, monospace, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, sans-serif; line-height: 22px; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244); border-radius: 2px; padding: 2px 4px; overflow-wrap: break-word; font-variant-ligatures: no-common-ligatures; text-align: start;&quot;&gt;binCount &amp;gt;= TREEIFY_THRESHOLD - 1&lt;/code&gt;&lt;span style=&quot;font-size: 6px; font-style: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; white-space: normal; text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial; color: rgb(77, 77, 77); font-family: -apple-system, &amp;quot;SF UI Text&amp;quot;, Arial, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, &amp;quot;WenQuanYi Micro Hei&amp;quot;, sans-serif; font-variant-ligatures: no-common-ligatures; text-align: start; background-color: rgb(255, 255, 255); float: none; display: inline !important;&quot;&gt;&lt;span style=&quot;font-size: 6px;&quot;&gt;&amp;nbsp;&lt;/span&gt;=&amp;gt;&lt;span style=&quot;font-size: 6px;&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;/span&gt;&lt;code style=&quot;font-size: 6px; font-style: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; white-space: normal; text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial; box-sizing: border-box; outline: 0px; font-family: &amp;quot;Source Code Pro&amp;quot;, &amp;quot;DejaVu Sans Mono&amp;quot;, &amp;quot;Ubuntu Mono&amp;quot;, &amp;quot;Anonymous Pro&amp;quot;, &amp;quot;Droid Sans Mono&amp;quot;, Menlo, Monaco, Consolas, Inconsolata, Courier, monospace, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, sans-serif; line-height: 22px; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244); border-radius: 2px; padding: 2px 4px; overflow-wrap: break-word; font-variant-ligatures: no-common-ligatures; text-align: start;&quot;&gt;binCount+1(链表长度) &amp;gt;= TREEIFY_THRESHOLD&lt;/code&gt;" style="text;whiteSpace=wrap;html=1;fontSize=6;" parent="1" vertex="1">
          <mxGeometry x="-85" y="818.5" width="310" height="30" as="geometry" />
        </mxCell>
        <UserObject label="&lt;pre style=&quot;color: rgb(187, 187, 187); font-size: 8px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: left; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial;&quot;&gt;&lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic; font-size: 8px;&quot;&gt;final void &lt;/span&gt;&lt;span style=&quot;color: rgb(97, 175, 239); font-size: 8px;&quot;&gt;split&lt;/span&gt;(&lt;span style=&quot;color: rgb(229, 192, 123); font-size: 8px;&quot;&gt;HashMap&lt;/span&gt;&amp;lt;&lt;span style=&quot;color: rgb(229, 192, 123); font-size: 8px;&quot;&gt;K&lt;/span&gt;,&lt;span style=&quot;color: rgb(229, 192, 123); font-size: 8px;&quot;&gt;V&lt;/span&gt;&amp;gt; &lt;span style=&quot;color: rgb(209, 154, 102); font-size: 8px;&quot;&gt;map&lt;/span&gt;, &lt;span style=&quot;color: rgb(229, 192, 123); font-size: 8px;&quot;&gt;Node&lt;/span&gt;&amp;lt;&lt;span style=&quot;color: rgb(229, 192, 123); font-size: 8px;&quot;&gt;K&lt;/span&gt;,&lt;span style=&quot;color: rgb(229, 192, 123); font-size: 8px;&quot;&gt;V&lt;/span&gt;&amp;gt;[] &lt;span style=&quot;color: rgb(209, 154, 102); font-size: 8px;&quot;&gt;tab&lt;/span&gt;, &lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic; font-size: 8px;&quot;&gt;int &lt;/span&gt;&lt;span style=&quot;color: rgb(209, 154, 102); font-size: 8px;&quot;&gt;index&lt;/span&gt;, &lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic; font-size: 8px;&quot;&gt;int &lt;/span&gt;&lt;span style=&quot;color: rgb(209, 154, 102); font-size: 8px;&quot;&gt;bit&lt;/span&gt;) {&lt;br style=&quot;font-size: 8px;&quot;&gt;    &lt;span style=&quot;color: rgb(229, 192, 123); font-size: 8px;&quot;&gt;TreeNode&lt;/span&gt;&amp;lt;&lt;span style=&quot;color: rgb(229, 192, 123); font-size: 8px;&quot;&gt;K&lt;/span&gt;,&lt;span style=&quot;color: rgb(229, 192, 123); font-size: 8px;&quot;&gt;V&lt;/span&gt;&amp;gt; b = &lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic; font-size: 8px;&quot;&gt;this&lt;/span&gt;;&lt;br style=&quot;font-size: 8px;&quot;&gt;    &lt;span style=&quot;color: rgb(92, 99, 112); font-style: italic; font-size: 8px;&quot;&gt;// Relink into lo and hi lists, preserving order&lt;br style=&quot;font-size: 8px;&quot;&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(92, 99, 112); font-style: italic; font-size: 8px;&quot;&gt;    &lt;/span&gt;&lt;span style=&quot;color: rgb(229, 192, 123); font-size: 8px;&quot;&gt;TreeNode&lt;/span&gt;&amp;lt;&lt;span style=&quot;color: rgb(229, 192, 123); font-size: 8px;&quot;&gt;K&lt;/span&gt;,&lt;span style=&quot;color: rgb(229, 192, 123); font-size: 8px;&quot;&gt;V&lt;/span&gt;&amp;gt; loHead = &lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic; font-size: 8px;&quot;&gt;null&lt;/span&gt;, loTail = &lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic; font-size: 8px;&quot;&gt;null&lt;/span&gt;;&lt;br style=&quot;font-size: 8px;&quot;&gt;    &lt;span style=&quot;color: rgb(229, 192, 123); font-size: 8px;&quot;&gt;TreeNode&lt;/span&gt;&amp;lt;&lt;span style=&quot;color: rgb(229, 192, 123); font-size: 8px;&quot;&gt;K&lt;/span&gt;,&lt;span style=&quot;color: rgb(229, 192, 123); font-size: 8px;&quot;&gt;V&lt;/span&gt;&amp;gt; hiHead = &lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic; font-size: 8px;&quot;&gt;null&lt;/span&gt;, hiTail = &lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic; font-size: 8px;&quot;&gt;null&lt;/span&gt;;&lt;br style=&quot;font-size: 8px;&quot;&gt;    &lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic; font-size: 8px;&quot;&gt;int &lt;/span&gt;lc = &lt;span style=&quot;color: rgb(209, 154, 102); font-size: 8px;&quot;&gt;0&lt;/span&gt;, hc = &lt;span style=&quot;color: rgb(209, 154, 102); font-size: 8px;&quot;&gt;0&lt;/span&gt;;&lt;br style=&quot;font-size: 8px;&quot;&gt;    &lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic; font-size: 8px;&quot;&gt;for &lt;/span&gt;(&lt;span style=&quot;color: rgb(229, 192, 123); font-size: 8px;&quot;&gt;TreeNode&lt;/span&gt;&amp;lt;&lt;span style=&quot;color: rgb(229, 192, 123); font-size: 8px;&quot;&gt;K&lt;/span&gt;,&lt;span style=&quot;color: rgb(229, 192, 123); font-size: 8px;&quot;&gt;V&lt;/span&gt;&amp;gt; e = b, next; e != &lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic; font-size: 8px;&quot;&gt;null&lt;/span&gt;; e = next) {&lt;br style=&quot;font-size: 8px;&quot;&gt;        next = (&lt;span style=&quot;color: rgb(229, 192, 123); font-size: 8px;&quot;&gt;TreeNode&lt;/span&gt;&amp;lt;&lt;span style=&quot;color: rgb(229, 192, 123); font-size: 8px;&quot;&gt;K&lt;/span&gt;,&lt;span style=&quot;color: rgb(229, 192, 123); font-size: 8px;&quot;&gt;V&lt;/span&gt;&amp;gt;)e.next;&lt;br style=&quot;font-size: 8px;&quot;&gt;        e.next = &lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic; font-size: 8px;&quot;&gt;null&lt;/span&gt;;&lt;br style=&quot;font-size: 8px;&quot;&gt;        &lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic; font-size: 8px;&quot;&gt;if &lt;/span&gt;((e.hash &amp;amp; &lt;span style=&quot;color: rgb(209, 154, 102); font-size: 8px;&quot;&gt;bit&lt;/span&gt;) == &lt;span style=&quot;color: rgb(209, 154, 102); font-size: 8px;&quot;&gt;0&lt;/span&gt;) {&lt;br style=&quot;font-size: 8px;&quot;&gt;            &lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic; font-size: 8px;&quot;&gt;if &lt;/span&gt;((e.&lt;span style=&quot;color: rgb(239, 89, 111); font-size: 8px;&quot;&gt;prev &lt;/span&gt;= loTail) == &lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic; font-size: 8px;&quot;&gt;null&lt;/span&gt;)&lt;br style=&quot;font-size: 8px;&quot;&gt;                loHead = e;&lt;br style=&quot;font-size: 8px;&quot;&gt;            &lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic; font-size: 8px;&quot;&gt;else&lt;br style=&quot;font-size: 8px;&quot;&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic; font-size: 8px;&quot;&gt;                &lt;/span&gt;loTail.next = e;&lt;br style=&quot;font-size: 8px;&quot;&gt;            loTail = e;&lt;br style=&quot;font-size: 8px;&quot;&gt;            ++lc;&lt;br style=&quot;font-size: 8px;&quot;&gt;        }&lt;br style=&quot;font-size: 8px;&quot;&gt;        &lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic; font-size: 8px;&quot;&gt;else &lt;/span&gt;{&lt;br style=&quot;font-size: 8px;&quot;&gt;            &lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic; font-size: 8px;&quot;&gt;if &lt;/span&gt;((e.&lt;span style=&quot;color: rgb(239, 89, 111); font-size: 8px;&quot;&gt;prev &lt;/span&gt;= hiTail) == &lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic; font-size: 8px;&quot;&gt;null&lt;/span&gt;)&lt;br style=&quot;font-size: 8px;&quot;&gt;                hiHead = e;&lt;br style=&quot;font-size: 8px;&quot;&gt;            &lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic; font-size: 8px;&quot;&gt;else&lt;br style=&quot;font-size: 8px;&quot;&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic; font-size: 8px;&quot;&gt;                &lt;/span&gt;hiTail.next = e;&lt;br style=&quot;font-size: 8px;&quot;&gt;            hiTail = e;&lt;br style=&quot;font-size: 8px;&quot;&gt;            ++hc;&lt;br style=&quot;font-size: 8px;&quot;&gt;        }&lt;br style=&quot;font-size: 8px;&quot;&gt;    }&lt;br style=&quot;font-size: 8px;&quot;&gt;&lt;br style=&quot;font-size: 8px;&quot;&gt;    &lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic; font-size: 8px;&quot;&gt;if &lt;/span&gt;(loHead != &lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic; font-size: 8px;&quot;&gt;null&lt;/span&gt;) {&lt;br style=&quot;font-size: 8px;&quot;&gt;        &lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic; font-size: 8px;&quot;&gt;if &lt;/span&gt;(lc &amp;lt;= &lt;span style=&quot;color: rgb(209, 154, 102); font-size: 8px;&quot;&gt;UNTREEIFY_THRESHOLD&lt;/span&gt;)&lt;br style=&quot;font-size: 8px;&quot;&gt;            &lt;span style=&quot;color: rgb(209, 154, 102); font-size: 8px;&quot;&gt;tab&lt;/span&gt;[&lt;span style=&quot;color: rgb(209, 154, 102); font-size: 8px;&quot;&gt;index&lt;/span&gt;] = loHead.&lt;span style=&quot;color: rgb(97, 175, 239); font-size: 8px;&quot;&gt;untreeify&lt;/span&gt;(&lt;span style=&quot;color: rgb(209, 154, 102); font-size: 8px;&quot;&gt;map&lt;/span&gt;);&lt;br style=&quot;font-size: 8px;&quot;&gt;        &lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic; font-size: 8px;&quot;&gt;else &lt;/span&gt;{&lt;br style=&quot;font-size: 8px;&quot;&gt;            &lt;span style=&quot;color: rgb(209, 154, 102); font-size: 8px;&quot;&gt;tab&lt;/span&gt;[&lt;span style=&quot;color: rgb(209, 154, 102); font-size: 8px;&quot;&gt;index&lt;/span&gt;] = loHead;&lt;br style=&quot;font-size: 8px;&quot;&gt;            &lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic; font-size: 8px;&quot;&gt;if &lt;/span&gt;(hiHead != &lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic; font-size: 8px;&quot;&gt;null&lt;/span&gt;) &lt;span style=&quot;color: rgb(92, 99, 112); font-style: italic; font-size: 8px;&quot;&gt;// (else is already treeified)&lt;br style=&quot;font-size: 8px;&quot;&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(92, 99, 112); font-style: italic; font-size: 8px;&quot;&gt;                &lt;/span&gt;loHead.&lt;span style=&quot;color: rgb(97, 175, 239); font-size: 8px;&quot;&gt;treeify&lt;/span&gt;(&lt;span style=&quot;color: rgb(209, 154, 102); font-size: 8px;&quot;&gt;tab&lt;/span&gt;);&lt;br style=&quot;font-size: 8px;&quot;&gt;        }&lt;br style=&quot;font-size: 8px;&quot;&gt;    }&lt;br style=&quot;font-size: 8px;&quot;&gt;    &lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic; font-size: 8px;&quot;&gt;if &lt;/span&gt;(hiHead != &lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic; font-size: 8px;&quot;&gt;null&lt;/span&gt;) {&lt;br style=&quot;font-size: 8px;&quot;&gt;        &lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic; font-size: 8px;&quot;&gt;if &lt;/span&gt;(hc &amp;lt;= &lt;span style=&quot;color: rgb(209, 154, 102); font-size: 8px;&quot;&gt;UNTREEIFY_THRESHOLD&lt;/span&gt;)&lt;br style=&quot;font-size: 8px;&quot;&gt;            &lt;span style=&quot;color: rgb(209, 154, 102); font-size: 8px;&quot;&gt;tab&lt;/span&gt;[&lt;span style=&quot;color: rgb(209, 154, 102); font-size: 8px;&quot;&gt;index &lt;/span&gt;+ &lt;span style=&quot;color: rgb(209, 154, 102); font-size: 8px;&quot;&gt;bit&lt;/span&gt;] = hiHead.&lt;span style=&quot;color: rgb(97, 175, 239); font-size: 8px;&quot;&gt;untreeify&lt;/span&gt;(&lt;span style=&quot;color: rgb(209, 154, 102); font-size: 8px;&quot;&gt;map&lt;/span&gt;);&lt;br style=&quot;font-size: 8px;&quot;&gt;        &lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic; font-size: 8px;&quot;&gt;else &lt;/span&gt;{&lt;br style=&quot;font-size: 8px;&quot;&gt;            &lt;span style=&quot;color: rgb(209, 154, 102); font-size: 8px;&quot;&gt;tab&lt;/span&gt;[&lt;span style=&quot;color: rgb(209, 154, 102); font-size: 8px;&quot;&gt;index &lt;/span&gt;+ &lt;span style=&quot;color: rgb(209, 154, 102); font-size: 8px;&quot;&gt;bit&lt;/span&gt;] = hiHead;&lt;br style=&quot;font-size: 8px;&quot;&gt;            &lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic; font-size: 8px;&quot;&gt;if &lt;/span&gt;(loHead != &lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic; font-size: 8px;&quot;&gt;null&lt;/span&gt;)&lt;br style=&quot;font-size: 8px;&quot;&gt;                hiHead.&lt;span style=&quot;color: rgb(97, 175, 239); font-size: 8px;&quot;&gt;treeify&lt;/span&gt;(&lt;span style=&quot;color: rgb(209, 154, 102); font-size: 8px;&quot;&gt;tab&lt;/span&gt;);&lt;br style=&quot;font-size: 8px;&quot;&gt;        }&lt;br style=&quot;font-size: 8px;&quot;&gt;    }&lt;br style=&quot;font-size: 8px;&quot;&gt;}&lt;/pre&gt;" link="&lt;pre style=&quot;color: rgb(187, 187, 187); font-size: 20px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: left; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial;&quot;&gt;&lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic;&quot;&gt;final void &lt;/span&gt;&lt;span style=&quot;color: rgb(97, 175, 239);&quot;&gt;split&lt;/span&gt;(&lt;span style=&quot;color: rgb(229, 192, 123);&quot;&gt;HashMap&lt;/span&gt;&amp;lt;&lt;span style=&quot;color: rgb(229, 192, 123);&quot;&gt;K&lt;/span&gt;,&lt;span style=&quot;color: rgb(229, 192, 123);&quot;&gt;V&lt;/span&gt;&amp;gt; &lt;span style=&quot;color: rgb(209, 154, 102);&quot;&gt;map&lt;/span&gt;, &lt;span style=&quot;color: rgb(229, 192, 123);&quot;&gt;Node&lt;/span&gt;&amp;lt;&lt;span style=&quot;color: rgb(229, 192, 123);&quot;&gt;K&lt;/span&gt;,&lt;span style=&quot;color: rgb(229, 192, 123);&quot;&gt;V&lt;/span&gt;&amp;gt;[] &lt;span style=&quot;color: rgb(209, 154, 102);&quot;&gt;tab&lt;/span&gt;, &lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic;&quot;&gt;int &lt;/span&gt;&lt;span style=&quot;color: rgb(209, 154, 102);&quot;&gt;index&lt;/span&gt;, &lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic;&quot;&gt;int &lt;/span&gt;&lt;span style=&quot;color: rgb(209, 154, 102);&quot;&gt;bit&lt;/span&gt;) {&lt;br&gt;    &lt;span style=&quot;color: rgb(229, 192, 123);&quot;&gt;TreeNode&lt;/span&gt;&amp;lt;&lt;span style=&quot;color: rgb(229, 192, 123);&quot;&gt;K&lt;/span&gt;,&lt;span style=&quot;color: rgb(229, 192, 123);&quot;&gt;V&lt;/span&gt;&amp;gt; b = &lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic;&quot;&gt;this&lt;/span&gt;;&lt;br&gt;    &lt;span style=&quot;color: rgb(92, 99, 112); font-style: italic;&quot;&gt;// Relink into lo and hi lists, preserving order&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(92, 99, 112); font-style: italic;&quot;&gt;    &lt;/span&gt;&lt;span style=&quot;color: rgb(229, 192, 123);&quot;&gt;TreeNode&lt;/span&gt;&amp;lt;&lt;span style=&quot;color: rgb(229, 192, 123);&quot;&gt;K&lt;/span&gt;,&lt;span style=&quot;color: rgb(229, 192, 123);&quot;&gt;V&lt;/span&gt;&amp;gt; loHead = &lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic;&quot;&gt;null&lt;/span&gt;, loTail = &lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic;&quot;&gt;null&lt;/span&gt;;&lt;br&gt;    &lt;span style=&quot;color: rgb(229, 192, 123);&quot;&gt;TreeNode&lt;/span&gt;&amp;lt;&lt;span style=&quot;color: rgb(229, 192, 123);&quot;&gt;K&lt;/span&gt;,&lt;span style=&quot;color: rgb(229, 192, 123);&quot;&gt;V&lt;/span&gt;&amp;gt; hiHead = &lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic;&quot;&gt;null&lt;/span&gt;, hiTail = &lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic;&quot;&gt;null&lt;/span&gt;;&lt;br&gt;    &lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic;&quot;&gt;int &lt;/span&gt;lc = &lt;span style=&quot;color: rgb(209, 154, 102);&quot;&gt;0&lt;/span&gt;, hc = &lt;span style=&quot;color: rgb(209, 154, 102);&quot;&gt;0&lt;/span&gt;;&lt;br&gt;    &lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic;&quot;&gt;for &lt;/span&gt;(&lt;span style=&quot;color: rgb(229, 192, 123);&quot;&gt;TreeNode&lt;/span&gt;&amp;lt;&lt;span style=&quot;color: rgb(229, 192, 123);&quot;&gt;K&lt;/span&gt;,&lt;span style=&quot;color: rgb(229, 192, 123);&quot;&gt;V&lt;/span&gt;&amp;gt; e = b, next; e != &lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic;&quot;&gt;null&lt;/span&gt;; e = next) {&lt;br&gt;        next = (&lt;span style=&quot;color: rgb(229, 192, 123);&quot;&gt;TreeNode&lt;/span&gt;&amp;lt;&lt;span style=&quot;color: rgb(229, 192, 123);&quot;&gt;K&lt;/span&gt;,&lt;span style=&quot;color: rgb(229, 192, 123);&quot;&gt;V&lt;/span&gt;&amp;gt;)e.next;&lt;br&gt;        e.next = &lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic;&quot;&gt;null&lt;/span&gt;;&lt;br&gt;        &lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic;&quot;&gt;if &lt;/span&gt;((e.hash &amp;amp; &lt;span style=&quot;color: rgb(209, 154, 102);&quot;&gt;bit&lt;/span&gt;) == &lt;span style=&quot;color: rgb(209, 154, 102);&quot;&gt;0&lt;/span&gt;) {&lt;br&gt;            &lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic;&quot;&gt;if &lt;/span&gt;((e.&lt;span style=&quot;color: rgb(239, 89, 111);&quot;&gt;prev &lt;/span&gt;= loTail) == &lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic;&quot;&gt;null&lt;/span&gt;)&lt;br&gt;                loHead = e;&lt;br&gt;            &lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic;&quot;&gt;else&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic;&quot;&gt;                &lt;/span&gt;loTail.next = e;&lt;br&gt;            loTail = e;&lt;br&gt;            ++lc;&lt;br&gt;        }&lt;br&gt;        &lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic;&quot;&gt;else &lt;/span&gt;{&lt;br&gt;            &lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic;&quot;&gt;if &lt;/span&gt;((e.&lt;span style=&quot;color: rgb(239, 89, 111);&quot;&gt;prev &lt;/span&gt;= hiTail) == &lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic;&quot;&gt;null&lt;/span&gt;)&lt;br&gt;                hiHead = e;&lt;br&gt;            &lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic;&quot;&gt;else&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic;&quot;&gt;                &lt;/span&gt;hiTail.next = e;&lt;br&gt;            hiTail = e;&lt;br&gt;            ++hc;&lt;br&gt;        }&lt;br&gt;    }&lt;br&gt;&lt;br&gt;    &lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic;&quot;&gt;if &lt;/span&gt;(loHead != &lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic;&quot;&gt;null&lt;/span&gt;) {&lt;br&gt;        &lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic;&quot;&gt;if &lt;/span&gt;(lc &amp;lt;= &lt;span style=&quot;color: rgb(209, 154, 102);&quot;&gt;UNTREEIFY_THRESHOLD&lt;/span&gt;)&lt;br&gt;            &lt;span style=&quot;color: rgb(209, 154, 102);&quot;&gt;tab&lt;/span&gt;[&lt;span style=&quot;color: rgb(209, 154, 102);&quot;&gt;index&lt;/span&gt;] = loHead.&lt;span style=&quot;color: rgb(97, 175, 239);&quot;&gt;untreeify&lt;/span&gt;(&lt;span style=&quot;color: rgb(209, 154, 102);&quot;&gt;map&lt;/span&gt;);&lt;br&gt;        &lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic;&quot;&gt;else &lt;/span&gt;{&lt;br&gt;            &lt;span style=&quot;color: rgb(209, 154, 102);&quot;&gt;tab&lt;/span&gt;[&lt;span style=&quot;color: rgb(209, 154, 102);&quot;&gt;index&lt;/span&gt;] = loHead;&lt;br&gt;            &lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic;&quot;&gt;if &lt;/span&gt;(hiHead != &lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic;&quot;&gt;null&lt;/span&gt;) &lt;span style=&quot;color: rgb(92, 99, 112); font-style: italic;&quot;&gt;// (else is already treeified)&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(92, 99, 112); font-style: italic;&quot;&gt;                &lt;/span&gt;loHead.&lt;span style=&quot;color: rgb(97, 175, 239);&quot;&gt;treeify&lt;/span&gt;(&lt;span style=&quot;color: rgb(209, 154, 102);&quot;&gt;tab&lt;/span&gt;);&lt;br&gt;        }&lt;br&gt;    }&lt;br&gt;    &lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic;&quot;&gt;if &lt;/span&gt;(hiHead != &lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic;&quot;&gt;null&lt;/span&gt;) {&lt;br&gt;        &lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic;&quot;&gt;if &lt;/span&gt;(hc &amp;lt;= &lt;span style=&quot;color: rgb(209, 154, 102);&quot;&gt;UNTREEIFY_THRESHOLD&lt;/span&gt;)&lt;br&gt;            &lt;span style=&quot;color: rgb(209, 154, 102);&quot;&gt;tab&lt;/span&gt;[&lt;span style=&quot;color: rgb(209, 154, 102);&quot;&gt;index &lt;/span&gt;+ &lt;span style=&quot;color: rgb(209, 154, 102);&quot;&gt;bit&lt;/span&gt;] = hiHead.&lt;span style=&quot;color: rgb(97, 175, 239);&quot;&gt;untreeify&lt;/span&gt;(&lt;span style=&quot;color: rgb(209, 154, 102);&quot;&gt;map&lt;/span&gt;);&lt;br&gt;        &lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic;&quot;&gt;else &lt;/span&gt;{&lt;br&gt;            &lt;span style=&quot;color: rgb(209, 154, 102);&quot;&gt;tab&lt;/span&gt;[&lt;span style=&quot;color: rgb(209, 154, 102);&quot;&gt;index &lt;/span&gt;+ &lt;span style=&quot;color: rgb(209, 154, 102);&quot;&gt;bit&lt;/span&gt;] = hiHead;&lt;br&gt;            &lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic;&quot;&gt;if &lt;/span&gt;(loHead != &lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic;&quot;&gt;null&lt;/span&gt;)&lt;br&gt;                hiHead.&lt;span style=&quot;color: rgb(97, 175, 239);&quot;&gt;treeify&lt;/span&gt;(&lt;span style=&quot;color: rgb(209, 154, 102);&quot;&gt;tab&lt;/span&gt;);&lt;br&gt;        }&lt;br&gt;    }&lt;br&gt;}&lt;/pre&gt;" id="onKNXoKgGcAeMGmnEdmf-88">
          <mxCell style="text;whiteSpace=wrap;html=1;fontSize=8;fillColor=#000000;" parent="1" vertex="1">
            <mxGeometry x="1400" y="756.5" width="360" height="470" as="geometry" />
          </mxCell>
        </UserObject>
        <UserObject label="&lt;pre style=&quot;color: rgb(187, 187, 187); font-size: 8px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: left; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial;&quot;&gt;&lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic; font-size: 8px;&quot;&gt;final void &lt;/span&gt;&lt;span style=&quot;color: rgb(97, 175, 239); font-size: 8px;&quot;&gt;treeifyBin&lt;/span&gt;(&lt;span style=&quot;color: rgb(229, 192, 123); font-size: 8px;&quot;&gt;Node&lt;/span&gt;&amp;lt;&lt;span style=&quot;color: rgb(229, 192, 123); font-size: 8px;&quot;&gt;K&lt;/span&gt;,&lt;span style=&quot;color: rgb(229, 192, 123); font-size: 8px;&quot;&gt;V&lt;/span&gt;&amp;gt;[] &lt;span style=&quot;color: rgb(209, 154, 102); font-size: 8px;&quot;&gt;tab&lt;/span&gt;, &lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic; font-size: 8px;&quot;&gt;int &lt;/span&gt;&lt;span style=&quot;color: rgb(209, 154, 102); font-size: 8px;&quot;&gt;hash&lt;/span&gt;) {&lt;br style=&quot;font-size: 8px;&quot;&gt;    &lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic; font-size: 8px;&quot;&gt;int &lt;/span&gt;n, index; &lt;span style=&quot;color: rgb(229, 192, 123); font-size: 8px;&quot;&gt;Node&lt;/span&gt;&amp;lt;&lt;span style=&quot;color: rgb(229, 192, 123); font-size: 8px;&quot;&gt;K&lt;/span&gt;,&lt;span style=&quot;color: rgb(229, 192, 123); font-size: 8px;&quot;&gt;V&lt;/span&gt;&amp;gt; e;&lt;br&gt;    //数组为空或者数组大小小于64时只进行扩容操作，不做树化操作&lt;br style=&quot;font-size: 8px;&quot;&gt;    &lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic; font-size: 8px;&quot;&gt;if &lt;/span&gt;(&lt;span style=&quot;color: rgb(209, 154, 102); font-size: 8px;&quot;&gt;tab &lt;/span&gt;== &lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic; font-size: 8px;&quot;&gt;null &lt;/span&gt;|| (n = &lt;span style=&quot;color: rgb(209, 154, 102); font-size: 8px;&quot;&gt;tab&lt;/span&gt;.&lt;span style=&quot;color: rgb(239, 89, 111); font-size: 8px;&quot;&gt;length&lt;/span&gt;) &amp;lt; &lt;span style=&quot;color: rgb(209, 154, 102); font-size: 8px;&quot;&gt;MIN_TREEIFY_CAPACITY&lt;/span&gt;)&lt;br style=&quot;font-size: 8px;&quot;&gt;        &lt;span style=&quot;color: rgb(97, 175, 239); font-size: 8px;&quot;&gt;resize&lt;/span&gt;();&lt;br style=&quot;font-size: 8px;&quot;&gt;    &lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic; font-size: 8px;&quot;&gt;else if &lt;/span&gt;((e = &lt;span style=&quot;color: rgb(209, 154, 102); font-size: 8px;&quot;&gt;tab&lt;/span&gt;[index = (n - &lt;span style=&quot;color: rgb(209, 154, 102); font-size: 8px;&quot;&gt;1&lt;/span&gt;) &amp;amp; &lt;span style=&quot;color: rgb(209, 154, 102); font-size: 8px;&quot;&gt;hash&lt;/span&gt;]) != &lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic; font-size: 8px;&quot;&gt;null&lt;/span&gt;) {&lt;br style=&quot;font-size: 8px;&quot;&gt;        &lt;span style=&quot;color: rgb(229, 192, 123); font-size: 8px;&quot;&gt;TreeNode&lt;/span&gt;&amp;lt;&lt;span style=&quot;color: rgb(229, 192, 123); font-size: 8px;&quot;&gt;K&lt;/span&gt;,&lt;span style=&quot;color: rgb(229, 192, 123); font-size: 8px;&quot;&gt;V&lt;/span&gt;&amp;gt; hd = &lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic; font-size: 8px;&quot;&gt;null&lt;/span&gt;, tl = &lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic; font-size: 8px;&quot;&gt;null&lt;/span&gt;;&lt;br style=&quot;font-size: 8px;&quot;&gt;        &lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic; font-size: 8px;&quot;&gt;do &lt;/span&gt;{&lt;br style=&quot;font-size: 8px;&quot;&gt;            &lt;span style=&quot;color: rgb(229, 192, 123); font-size: 8px;&quot;&gt;TreeNode&lt;/span&gt;&amp;lt;&lt;span style=&quot;color: rgb(229, 192, 123); font-size: 8px;&quot;&gt;K&lt;/span&gt;,&lt;span style=&quot;color: rgb(229, 192, 123); font-size: 8px;&quot;&gt;V&lt;/span&gt;&amp;gt; p = &lt;span style=&quot;color: rgb(97, 175, 239); font-size: 8px;&quot;&gt;replacementTreeNode&lt;/span&gt;(e, &lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic; font-size: 8px;&quot;&gt;null&lt;/span&gt;);&lt;br style=&quot;font-size: 8px;&quot;&gt;            &lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic; font-size: 8px;&quot;&gt;if &lt;/span&gt;(tl == &lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic; font-size: 8px;&quot;&gt;null&lt;/span&gt;)&lt;br style=&quot;font-size: 8px;&quot;&gt;                hd = p;&lt;br style=&quot;font-size: 8px;&quot;&gt;            &lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic; font-size: 8px;&quot;&gt;else &lt;/span&gt;{&lt;br style=&quot;font-size: 8px;&quot;&gt;                p.&lt;span style=&quot;color: rgb(239, 89, 111); font-size: 8px;&quot;&gt;prev &lt;/span&gt;= tl;&lt;br style=&quot;font-size: 8px;&quot;&gt;                tl.next = p;&lt;br style=&quot;font-size: 8px;&quot;&gt;            }&lt;br style=&quot;font-size: 8px;&quot;&gt;            tl = p;&lt;br style=&quot;font-size: 8px;&quot;&gt;        } &lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic; font-size: 8px;&quot;&gt;while &lt;/span&gt;((e = e.&lt;span style=&quot;color: rgb(239, 89, 111); font-size: 8px;&quot;&gt;next&lt;/span&gt;) != &lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic; font-size: 8px;&quot;&gt;null&lt;/span&gt;);&lt;br style=&quot;font-size: 8px;&quot;&gt;        &lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic; font-size: 8px;&quot;&gt;if &lt;/span&gt;((&lt;span style=&quot;color: rgb(209, 154, 102); font-size: 8px;&quot;&gt;tab&lt;/span&gt;[index] = hd) != &lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic; font-size: 8px;&quot;&gt;null&lt;/span&gt;)&lt;br style=&quot;font-size: 8px;&quot;&gt;            hd.&lt;span style=&quot;color: rgb(97, 175, 239); font-size: 8px;&quot;&gt;treeify&lt;/span&gt;(&lt;span style=&quot;color: rgb(209, 154, 102); font-size: 8px;&quot;&gt;tab&lt;/span&gt;);&lt;br style=&quot;font-size: 8px;&quot;&gt;    }&lt;br style=&quot;font-size: 8px;&quot;&gt;}&lt;/pre&gt;" link="&lt;pre style=&quot;color: rgb(187, 187, 187); font-size: 20px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: left; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial;&quot;&gt;&lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic;&quot;&gt;final void &lt;/span&gt;&lt;span style=&quot;color: rgb(97, 175, 239);&quot;&gt;treeifyBin&lt;/span&gt;(&lt;span style=&quot;color: rgb(229, 192, 123);&quot;&gt;Node&lt;/span&gt;&amp;lt;&lt;span style=&quot;color: rgb(229, 192, 123);&quot;&gt;K&lt;/span&gt;,&lt;span style=&quot;color: rgb(229, 192, 123);&quot;&gt;V&lt;/span&gt;&amp;gt;[] &lt;span style=&quot;color: rgb(209, 154, 102);&quot;&gt;tab&lt;/span&gt;, &lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic;&quot;&gt;int &lt;/span&gt;&lt;span style=&quot;color: rgb(209, 154, 102);&quot;&gt;hash&lt;/span&gt;) {&lt;br&gt;    &lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic;&quot;&gt;int &lt;/span&gt;n, index; &lt;span style=&quot;color: rgb(229, 192, 123);&quot;&gt;Node&lt;/span&gt;&amp;lt;&lt;span style=&quot;color: rgb(229, 192, 123);&quot;&gt;K&lt;/span&gt;,&lt;span style=&quot;color: rgb(229, 192, 123);&quot;&gt;V&lt;/span&gt;&amp;gt; e;&lt;br&gt;    &lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic;&quot;&gt;if &lt;/span&gt;(&lt;span style=&quot;color: rgb(209, 154, 102);&quot;&gt;tab &lt;/span&gt;== &lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic;&quot;&gt;null &lt;/span&gt;|| (n = &lt;span style=&quot;color: rgb(209, 154, 102);&quot;&gt;tab&lt;/span&gt;.&lt;span style=&quot;color: rgb(239, 89, 111);&quot;&gt;length&lt;/span&gt;) &amp;lt; &lt;span style=&quot;color: rgb(209, 154, 102);&quot;&gt;MIN_TREEIFY_CAPACITY&lt;/span&gt;)&lt;br&gt;        &lt;span style=&quot;color: rgb(97, 175, 239);&quot;&gt;resize&lt;/span&gt;();&lt;br&gt;    &lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic;&quot;&gt;else if &lt;/span&gt;((e = &lt;span style=&quot;color: rgb(209, 154, 102);&quot;&gt;tab&lt;/span&gt;[index = (n - &lt;span style=&quot;color: rgb(209, 154, 102);&quot;&gt;1&lt;/span&gt;) &amp;amp; &lt;span style=&quot;color: rgb(209, 154, 102);&quot;&gt;hash&lt;/span&gt;]) != &lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic;&quot;&gt;null&lt;/span&gt;) {&lt;br&gt;        &lt;span style=&quot;color: rgb(229, 192, 123);&quot;&gt;TreeNode&lt;/span&gt;&amp;lt;&lt;span style=&quot;color: rgb(229, 192, 123);&quot;&gt;K&lt;/span&gt;,&lt;span style=&quot;color: rgb(229, 192, 123);&quot;&gt;V&lt;/span&gt;&amp;gt; hd = &lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic;&quot;&gt;null&lt;/span&gt;, tl = &lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic;&quot;&gt;null&lt;/span&gt;;&lt;br&gt;        &lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic;&quot;&gt;do &lt;/span&gt;{&lt;br&gt;            &lt;span style=&quot;color: rgb(229, 192, 123);&quot;&gt;TreeNode&lt;/span&gt;&amp;lt;&lt;span style=&quot;color: rgb(229, 192, 123);&quot;&gt;K&lt;/span&gt;,&lt;span style=&quot;color: rgb(229, 192, 123);&quot;&gt;V&lt;/span&gt;&amp;gt; p = &lt;span style=&quot;color: rgb(97, 175, 239);&quot;&gt;replacementTreeNode&lt;/span&gt;(e, &lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic;&quot;&gt;null&lt;/span&gt;);&lt;br&gt;            &lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic;&quot;&gt;if &lt;/span&gt;(tl == &lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic;&quot;&gt;null&lt;/span&gt;)&lt;br&gt;                hd = p;&lt;br&gt;            &lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic;&quot;&gt;else &lt;/span&gt;{&lt;br&gt;                p.&lt;span style=&quot;color: rgb(239, 89, 111);&quot;&gt;prev &lt;/span&gt;= tl;&lt;br&gt;                tl.next = p;&lt;br&gt;            }&lt;br&gt;            tl = p;&lt;br&gt;        } &lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic;&quot;&gt;while &lt;/span&gt;((e = e.&lt;span style=&quot;color: rgb(239, 89, 111);&quot;&gt;next&lt;/span&gt;) != &lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic;&quot;&gt;null&lt;/span&gt;);&lt;br&gt;        &lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic;&quot;&gt;if &lt;/span&gt;((&lt;span style=&quot;color: rgb(209, 154, 102);&quot;&gt;tab&lt;/span&gt;[index] = hd) != &lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic;&quot;&gt;null&lt;/span&gt;)&lt;br&gt;            hd.&lt;span style=&quot;color: rgb(97, 175, 239);&quot;&gt;treeify&lt;/span&gt;(&lt;span style=&quot;color: rgb(209, 154, 102);&quot;&gt;tab&lt;/span&gt;);&lt;br&gt;    }&lt;br&gt;}&lt;/pre&gt;" id="onKNXoKgGcAeMGmnEdmf-93">
          <mxCell style="text;whiteSpace=wrap;html=1;fontSize=8;fillColor=#000000;" parent="1" vertex="1">
            <mxGeometry x="-580" y="823.5" width="310" height="216.5" as="geometry" />
          </mxCell>
        </UserObject>
        <mxCell id="onKNXoKgGcAeMGmnEdmf-95" value="" style="endArrow=classic;html=1;rounded=0;strokeColor=#FFFFFF;" parent="1" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-192" y="836.1" as="sourcePoint" />
            <mxPoint x="-332" y="836.1" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="onKNXoKgGcAeMGmnEdmf-96" value="树化判断操作" style="edgeLabel;resizable=0;html=1;;align=center;verticalAlign=middle;labelBackgroundColor=#000000;fontColor=#FFFFFF;" parent="onKNXoKgGcAeMGmnEdmf-95" connectable="0" vertex="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="onKNXoKgGcAeMGmnEdmf-97" value="" style="endArrow=classic;html=1;rounded=0;strokeColor=#FFFFFF;" parent="1" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="1167" y="780" as="sourcePoint" />
            <mxPoint x="1397" y="780" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="onKNXoKgGcAeMGmnEdmf-98" value="树化分离操作" style="edgeLabel;resizable=0;html=1;;align=center;verticalAlign=middle;labelBackgroundColor=#000000;fontColor=#FFFFFF;" parent="onKNXoKgGcAeMGmnEdmf-97" connectable="0" vertex="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="onKNXoKgGcAeMGmnEdmf-101" value="&lt;span style=&quot;text-wrap: nowrap;&quot;&gt;&lt;font color=&quot;#ffffff&quot;&gt;将&lt;/font&gt;&lt;/span&gt;&lt;div&gt;&lt;span style=&quot;text-wrap: nowrap;&quot;&gt;&lt;font color=&quot;#ffffff&quot;&gt;旧&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;text-wrap: nowrap;&quot;&gt;&lt;font color=&quot;#ffffff&quot;&gt;的&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;text-wrap: nowrap;&quot;&gt;&lt;font color=&quot;#ffffff&quot;&gt;hash&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;text-wrap: nowrap;&quot;&gt;&lt;font color=&quot;#ffffff&quot;&gt;桶&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;text-wrap: nowrap;&quot;&gt;&lt;font color=&quot;#ffffff&quot;&gt;转&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;text-wrap: nowrap;&quot;&gt;&lt;font color=&quot;#ffffff&quot;&gt;移&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;text-wrap: nowrap;&quot;&gt;&lt;font color=&quot;#ffffff&quot;&gt;到&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;text-wrap: nowrap;&quot;&gt;&lt;font color=&quot;#ffffff&quot;&gt;新&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;text-wrap: nowrap; background-color: initial;&quot;&gt;&lt;font color=&quot;#ffffff&quot;&gt;数&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;text-wrap: nowrap;&quot;&gt;&lt;font color=&quot;#ffffff&quot;&gt;组&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;text-wrap: nowrap;&quot;&gt;&lt;font color=&quot;#ffffff&quot;&gt;各&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;text-wrap: nowrap;&quot;&gt;&lt;font color=&quot;#ffffff&quot;&gt;自&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;text-wrap: nowrap;&quot;&gt;&lt;font color=&quot;#ffffff&quot;&gt;对&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;text-wrap: nowrap;&quot;&gt;&lt;font color=&quot;#ffffff&quot;&gt;应&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;text-wrap: nowrap;&quot;&gt;&lt;font color=&quot;#ffffff&quot;&gt;index&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;font color=&quot;#ffffff&quot;&gt;&lt;span style=&quot;text-wrap: nowrap; background-color: initial;&quot;&gt;位&lt;/span&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;text-wrap: nowrap;&quot;&gt;&lt;font color=&quot;#ffffff&quot;&gt;置&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;text-wrap: nowrap;&quot;&gt;&lt;font color=&quot;#ffffff&quot;&gt;上&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;" style="text;whiteSpace=wrap;html=1;fillColor=#82B366;fontSize=8;align=center;verticalAlign=middle;strokeColor=#82b366;" parent="1" vertex="1">
          <mxGeometry x="899" y="800" width="20" height="249.25" as="geometry" />
        </mxCell>
        <mxCell id="onKNXoKgGcAeMGmnEdmf-103" value="&lt;pre style=&quot;font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: left; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial;&quot;&gt;&lt;span style=&quot;font-size: 8px; font-style: italic;&quot;&gt;&lt;font color=&quot;#bbbbbb&quot;&gt;//计算数组大小&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(213, 95, 222); font-size: 8px; font-style: italic;&quot;&gt;&lt;br&gt;static final int &lt;/span&gt;&lt;span style=&quot;color: rgb(97, 175, 239); font-size: 8px;&quot;&gt;tableSizeFor&lt;/span&gt;&lt;font color=&quot;#bbbbbb&quot;&gt;(&lt;/font&gt;&lt;span style=&quot;color: rgb(213, 95, 222); font-size: 8px; font-style: italic;&quot;&gt;int &lt;/span&gt;&lt;span style=&quot;color: rgb(209, 154, 102); font-size: 8px;&quot;&gt;cap&lt;/span&gt;&lt;font color=&quot;#bbbbbb&quot;&gt;) {&lt;br style=&quot;font-size: 8px;&quot;&gt;    &lt;/font&gt;&lt;span style=&quot;color: rgb(213, 95, 222); font-size: 8px; font-style: italic;&quot;&gt;int &lt;/span&gt;&lt;font color=&quot;#bbbbbb&quot;&gt;n = &lt;/font&gt;&lt;span style=&quot;color: rgb(209, 154, 102); font-size: 8px;&quot;&gt;cap &lt;/span&gt;&lt;font color=&quot;#bbbbbb&quot;&gt;- &lt;/font&gt;&lt;span style=&quot;color: rgb(209, 154, 102); font-size: 8px;&quot;&gt;1&lt;/span&gt;&lt;font color=&quot;#bbbbbb&quot;&gt;;&lt;br style=&quot;font-size: 8px;&quot;&gt;    n |= n &amp;gt;&amp;gt;&amp;gt; &lt;/font&gt;&lt;span style=&quot;color: rgb(209, 154, 102); font-size: 8px;&quot;&gt;1&lt;/span&gt;&lt;font color=&quot;#bbbbbb&quot;&gt;;&lt;br style=&quot;font-size: 8px;&quot;&gt;    n |= n &amp;gt;&amp;gt;&amp;gt; &lt;/font&gt;&lt;span style=&quot;color: rgb(209, 154, 102); font-size: 8px;&quot;&gt;2&lt;/span&gt;&lt;font color=&quot;#bbbbbb&quot;&gt;;&lt;br style=&quot;font-size: 8px;&quot;&gt;    n |= n &amp;gt;&amp;gt;&amp;gt; &lt;/font&gt;&lt;span style=&quot;color: rgb(209, 154, 102); font-size: 8px;&quot;&gt;4&lt;/span&gt;&lt;font color=&quot;#bbbbbb&quot;&gt;;&lt;br style=&quot;font-size: 8px;&quot;&gt;    n |= n &amp;gt;&amp;gt;&amp;gt; &lt;/font&gt;&lt;span style=&quot;color: rgb(209, 154, 102); font-size: 8px;&quot;&gt;8&lt;/span&gt;&lt;font color=&quot;#bbbbbb&quot;&gt;;&lt;br style=&quot;font-size: 8px;&quot;&gt;    n |= n &amp;gt;&amp;gt;&amp;gt; &lt;/font&gt;&lt;span style=&quot;color: rgb(209, 154, 102); font-size: 8px;&quot;&gt;16&lt;/span&gt;&lt;font color=&quot;#bbbbbb&quot;&gt;;&lt;br style=&quot;font-size: 8px;&quot;&gt;    &lt;/font&gt;&lt;span style=&quot;color: rgb(213, 95, 222); font-size: 8px; font-style: italic;&quot;&gt;return &lt;/span&gt;&lt;font color=&quot;#bbbbbb&quot;&gt;(n &amp;lt; &lt;/font&gt;&lt;span style=&quot;color: rgb(209, 154, 102); font-size: 8px;&quot;&gt;0&lt;/span&gt;&lt;font color=&quot;#bbbbbb&quot;&gt;) ? &lt;/font&gt;&lt;span style=&quot;color: rgb(209, 154, 102); font-size: 8px;&quot;&gt;1 &lt;/span&gt;&lt;font color=&quot;#bbbbbb&quot;&gt;: (n &amp;gt;= &lt;/font&gt;&lt;span style=&quot;color: rgb(209, 154, 102); font-size: 8px;&quot;&gt;MAXIMUM_CAPACITY&lt;/span&gt;&lt;font color=&quot;#bbbbbb&quot;&gt;) ? &lt;/font&gt;&lt;span style=&quot;color: rgb(209, 154, 102); font-size: 8px;&quot;&gt;MAXIMUM_CAPACITY &lt;/span&gt;&lt;font color=&quot;#bbbbbb&quot;&gt;: n + &lt;/font&gt;&lt;span style=&quot;color: rgb(209, 154, 102); font-size: 8px;&quot;&gt;1&lt;/span&gt;&lt;font color=&quot;#bbbbbb&quot;&gt;;&lt;br style=&quot;font-size: 8px;&quot;&gt;}&lt;br&gt;&lt;/font&gt;&lt;pre style=&quot;color: rgb(187, 187, 187);&quot;&gt;&lt;font style=&quot;font-size: 8px;&quot;&gt;注：对参数进行减1的操作，是未了防止出现参数是2的倍数时，返回参数两倍的情况&lt;/font&gt;&lt;/pre&gt;&lt;font color=&quot;#bbbbbb&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/pre&gt;" style="text;whiteSpace=wrap;html=1;fontSize=8;fillColor=#000000;" parent="1" vertex="1">
          <mxGeometry x="1403" y="59" width="380" height="160" as="geometry" />
        </mxCell>
        <mxCell id="onKNXoKgGcAeMGmnEdmf-105" value="&lt;pre style=&quot;color: rgb(187, 187, 187); font-size: 8px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: left; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial;&quot;&gt;&lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic; font-size: 8px;&quot;&gt;final void &lt;/span&gt;&lt;span style=&quot;color: rgb(97, 175, 239); font-size: 8px;&quot;&gt;treeify&lt;/span&gt;(&lt;span style=&quot;color: rgb(229, 192, 123); font-size: 8px;&quot;&gt;Node&lt;/span&gt;&amp;lt;&lt;span style=&quot;color: rgb(229, 192, 123); font-size: 8px;&quot;&gt;K&lt;/span&gt;,&lt;span style=&quot;color: rgb(229, 192, 123); font-size: 8px;&quot;&gt;V&lt;/span&gt;&amp;gt;[] &lt;span style=&quot;color: rgb(209, 154, 102); font-size: 8px;&quot;&gt;tab&lt;/span&gt;) {&lt;br style=&quot;font-size: 8px;&quot;&gt;    &lt;span style=&quot;color: rgb(229, 192, 123); font-size: 8px;&quot;&gt;TreeNode&lt;/span&gt;&amp;lt;&lt;span style=&quot;color: rgb(229, 192, 123); font-size: 8px;&quot;&gt;K&lt;/span&gt;,&lt;span style=&quot;color: rgb(229, 192, 123); font-size: 8px;&quot;&gt;V&lt;/span&gt;&amp;gt; root = &lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic; font-size: 8px;&quot;&gt;null&lt;/span&gt;;&lt;br style=&quot;font-size: 8px;&quot;&gt;    &lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic; font-size: 8px;&quot;&gt;for &lt;/span&gt;(&lt;span style=&quot;color: rgb(229, 192, 123); font-size: 8px;&quot;&gt;TreeNode&lt;/span&gt;&amp;lt;&lt;span style=&quot;color: rgb(229, 192, 123); font-size: 8px;&quot;&gt;K&lt;/span&gt;,&lt;span style=&quot;color: rgb(229, 192, 123); font-size: 8px;&quot;&gt;V&lt;/span&gt;&amp;gt; x = &lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic; font-size: 8px;&quot;&gt;this&lt;/span&gt;, next; x != &lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic; font-size: 8px;&quot;&gt;null&lt;/span&gt;; x = next) {&lt;br style=&quot;font-size: 8px;&quot;&gt;        next = (&lt;span style=&quot;color: rgb(229, 192, 123); font-size: 8px;&quot;&gt;TreeNode&lt;/span&gt;&amp;lt;&lt;span style=&quot;color: rgb(229, 192, 123); font-size: 8px;&quot;&gt;K&lt;/span&gt;,&lt;span style=&quot;color: rgb(229, 192, 123); font-size: 8px;&quot;&gt;V&lt;/span&gt;&amp;gt;)x.next;&lt;br style=&quot;font-size: 8px;&quot;&gt;        x.&lt;span style=&quot;color: rgb(239, 89, 111); font-size: 8px;&quot;&gt;left &lt;/span&gt;= x.&lt;span style=&quot;color: rgb(239, 89, 111); font-size: 8px;&quot;&gt;right &lt;/span&gt;= &lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic; font-size: 8px;&quot;&gt;null&lt;/span&gt;;&lt;br style=&quot;font-size: 8px;&quot;&gt;        &lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic; font-size: 8px;&quot;&gt;if &lt;/span&gt;(root == &lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic; font-size: 8px;&quot;&gt;null&lt;/span&gt;) {&lt;br style=&quot;font-size: 8px;&quot;&gt;            x.&lt;span style=&quot;color: rgb(239, 89, 111); font-size: 8px;&quot;&gt;parent &lt;/span&gt;= &lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic; font-size: 8px;&quot;&gt;null&lt;/span&gt;;&lt;br style=&quot;font-size: 8px;&quot;&gt;            x.&lt;span style=&quot;color: rgb(239, 89, 111); font-size: 8px;&quot;&gt;red &lt;/span&gt;= &lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic; font-size: 8px;&quot;&gt;false&lt;/span&gt;;&lt;br style=&quot;font-size: 8px;&quot;&gt;            root = x;&lt;br style=&quot;font-size: 8px;&quot;&gt;        }&lt;br style=&quot;font-size: 8px;&quot;&gt;        &lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic; font-size: 8px;&quot;&gt;else &lt;/span&gt;{&lt;br style=&quot;font-size: 8px;&quot;&gt;            &lt;span style=&quot;color: rgb(229, 192, 123); font-size: 8px;&quot;&gt;K &lt;/span&gt;k = x.key;&lt;br style=&quot;font-size: 8px;&quot;&gt;            &lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic; font-size: 8px;&quot;&gt;int &lt;/span&gt;h = x.hash;&lt;br style=&quot;font-size: 8px;&quot;&gt;            &lt;span style=&quot;color: rgb(229, 192, 123); font-size: 8px;&quot;&gt;Class&lt;/span&gt;&amp;lt;?&amp;gt; kc = &lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic; font-size: 8px;&quot;&gt;null&lt;/span&gt;;&lt;br style=&quot;font-size: 8px;&quot;&gt;            &lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic; font-size: 8px;&quot;&gt;for &lt;/span&gt;(&lt;span style=&quot;color: rgb(229, 192, 123); font-size: 8px;&quot;&gt;TreeNode&lt;/span&gt;&amp;lt;&lt;span style=&quot;color: rgb(229, 192, 123); font-size: 8px;&quot;&gt;K&lt;/span&gt;,&lt;span style=&quot;color: rgb(229, 192, 123); font-size: 8px;&quot;&gt;V&lt;/span&gt;&amp;gt; p = root;;) {&lt;br style=&quot;font-size: 8px;&quot;&gt;                &lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic; font-size: 8px;&quot;&gt;int &lt;/span&gt;dir, ph;&lt;br style=&quot;font-size: 8px;&quot;&gt;                &lt;span style=&quot;color: rgb(229, 192, 123); font-size: 8px;&quot;&gt;K &lt;/span&gt;pk = p.key;&lt;br style=&quot;font-size: 8px;&quot;&gt;                &lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic; font-size: 8px;&quot;&gt;if &lt;/span&gt;((ph = p.hash) &amp;gt; h)&lt;br style=&quot;font-size: 8px;&quot;&gt;                    dir = -&lt;span style=&quot;color: rgb(209, 154, 102); font-size: 8px;&quot;&gt;1&lt;/span&gt;;&lt;br style=&quot;font-size: 8px;&quot;&gt;                &lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic; font-size: 8px;&quot;&gt;else if &lt;/span&gt;(ph &amp;lt; h)&lt;br style=&quot;font-size: 8px;&quot;&gt;                    dir = &lt;span style=&quot;color: rgb(209, 154, 102); font-size: 8px;&quot;&gt;1&lt;/span&gt;;&lt;br style=&quot;font-size: 8px;&quot;&gt;                &lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic; font-size: 8px;&quot;&gt;else if &lt;/span&gt;((kc == &lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic; font-size: 8px;&quot;&gt;null &lt;/span&gt;&amp;amp;&amp;amp;&lt;br style=&quot;font-size: 8px;&quot;&gt;                          (kc = &lt;span style=&quot;color: rgb(97, 175, 239); font-size: 8px;&quot;&gt;comparableClassFor&lt;/span&gt;(k)) == &lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic; font-size: 8px;&quot;&gt;null&lt;/span&gt;) ||&lt;br style=&quot;font-size: 8px;&quot;&gt;                         (dir = &lt;span style=&quot;color: rgb(97, 175, 239); font-size: 8px;&quot;&gt;compareComparables&lt;/span&gt;(kc, k, pk)) == &lt;span style=&quot;color: rgb(209, 154, 102); font-size: 8px;&quot;&gt;0&lt;/span&gt;)&lt;br style=&quot;font-size: 8px;&quot;&gt;                    dir = &lt;span style=&quot;color: rgb(97, 175, 239); font-size: 8px;&quot;&gt;tieBreakOrder&lt;/span&gt;(k, pk);&lt;br style=&quot;font-size: 8px;&quot;&gt;&lt;br style=&quot;font-size: 8px;&quot;&gt;                &lt;span style=&quot;color: rgb(229, 192, 123); font-size: 8px;&quot;&gt;TreeNode&lt;/span&gt;&amp;lt;&lt;span style=&quot;color: rgb(229, 192, 123); font-size: 8px;&quot;&gt;K&lt;/span&gt;,&lt;span style=&quot;color: rgb(229, 192, 123); font-size: 8px;&quot;&gt;V&lt;/span&gt;&amp;gt; xp = p;&lt;br style=&quot;font-size: 8px;&quot;&gt;                &lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic; font-size: 8px;&quot;&gt;if &lt;/span&gt;((p = (dir &amp;lt;= &lt;span style=&quot;color: rgb(209, 154, 102); font-size: 8px;&quot;&gt;0&lt;/span&gt;) ? p.&lt;span style=&quot;color: rgb(239, 89, 111); font-size: 8px;&quot;&gt;left &lt;/span&gt;: p.&lt;span style=&quot;color: rgb(239, 89, 111); font-size: 8px;&quot;&gt;right&lt;/span&gt;) == &lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic; font-size: 8px;&quot;&gt;null&lt;/span&gt;) {&lt;br style=&quot;font-size: 8px;&quot;&gt;                    x.&lt;span style=&quot;color: rgb(239, 89, 111); font-size: 8px;&quot;&gt;parent &lt;/span&gt;= xp;&lt;br style=&quot;font-size: 8px;&quot;&gt;                    &lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic; font-size: 8px;&quot;&gt;if &lt;/span&gt;(dir &amp;lt;= &lt;span style=&quot;color: rgb(209, 154, 102); font-size: 8px;&quot;&gt;0&lt;/span&gt;)&lt;br style=&quot;font-size: 8px;&quot;&gt;                        xp.&lt;span style=&quot;color: rgb(239, 89, 111); font-size: 8px;&quot;&gt;left &lt;/span&gt;= x;&lt;br style=&quot;font-size: 8px;&quot;&gt;                    &lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic; font-size: 8px;&quot;&gt;else&lt;br style=&quot;font-size: 8px;&quot;&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic; font-size: 8px;&quot;&gt;                        &lt;/span&gt;xp.&lt;span style=&quot;color: rgb(239, 89, 111); font-size: 8px;&quot;&gt;right &lt;/span&gt;= x;&lt;br style=&quot;font-size: 8px;&quot;&gt;                    root = &lt;span style=&quot;color: rgb(97, 175, 239); font-size: 8px;&quot;&gt;balanceInsertion&lt;/span&gt;(root, x);&lt;br style=&quot;font-size: 8px;&quot;&gt;                    &lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic; font-size: 8px;&quot;&gt;break&lt;/span&gt;;&lt;br style=&quot;font-size: 8px;&quot;&gt;                }&lt;br style=&quot;font-size: 8px;&quot;&gt;            }&lt;br style=&quot;font-size: 8px;&quot;&gt;        }&lt;br style=&quot;font-size: 8px;&quot;&gt;    }&lt;br style=&quot;font-size: 8px;&quot;&gt;    &lt;span style=&quot;color: rgb(97, 175, 239); font-size: 8px;&quot;&gt;moveRootToFront&lt;/span&gt;(&lt;span style=&quot;color: rgb(209, 154, 102); font-size: 8px;&quot;&gt;tab&lt;/span&gt;, root);&lt;br style=&quot;font-size: 8px;&quot;&gt;}&lt;/pre&gt;" style="text;whiteSpace=wrap;html=1;fontSize=8;fillColor=#000000;" parent="1" vertex="1">
          <mxGeometry x="-580" y="1040" width="490" height="420" as="geometry" />
        </mxCell>
        <mxCell id="onKNXoKgGcAeMGmnEdmf-107" value="&lt;font style=&quot;font-size: 6px;&quot; color=&quot;#ffffff&quot;&gt;树&amp;nbsp;&lt;br&gt;化&lt;br&gt;前&lt;/font&gt;&lt;div&gt;&lt;font style=&quot;font-size: 6px;&quot; color=&quot;#ffffff&quot;&gt;操&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;font style=&quot;font-size: 6px;&quot; color=&quot;#ffffff&quot;&gt;作&lt;/font&gt;&lt;/div&gt;" style="strokeWidth=0.5;html=1;shape=mxgraph.flowchart.annotation_1;align=left;pointerEvents=1;strokeColor=#FFFFFF;" parent="1" vertex="1">
          <mxGeometry x="-550" y="910" width="10" height="90" as="geometry" />
        </mxCell>
        <mxCell id="onKNXoKgGcAeMGmnEdmf-109" value="&lt;font style=&quot;font-size: 8px;&quot; color=&quot;#ffffff&quot;&gt;将Node转化为TreeNode，&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;/font&gt;&lt;div style=&quot;text-align: left; font-size: 8px;&quot;&gt;&lt;font style=&quot;font-size: 8px;&quot; color=&quot;#ffffff&quot;&gt;双向链表的操作&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left; font-size: 8px;&quot;&gt;&lt;font style=&quot;font-size: 8px;&quot; color=&quot;#ffffff&quot;&gt;hd &amp;lt;--------------&amp;gt; tl&lt;/font&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontSize=8;" parent="1" vertex="1">
          <mxGeometry x="-445" y="900" width="120" height="80" as="geometry" />
        </mxCell>
        <mxCell id="onKNXoKgGcAeMGmnEdmf-111" value="" style="endArrow=classic;html=1;rounded=0;fontColor=#FFFFFF;strokeColor=#FFFFFF;" parent="1" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-490" y="1023.26" as="sourcePoint" />
            <mxPoint x="-510" y="1053.26" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="onKNXoKgGcAeMGmnEdmf-112" value="&lt;span style=&quot;color: rgb(255, 255, 255);&quot;&gt;&lt;font style=&quot;font-size: 8px;&quot;&gt;真正树化操作&lt;/font&gt;&lt;/span&gt;" style="edgeLabel;resizable=0;html=1;;align=center;verticalAlign=middle;labelBackgroundColor=none;" parent="onKNXoKgGcAeMGmnEdmf-111" connectable="0" vertex="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="onKNXoKgGcAeMGmnEdmf-117" value="" style="shape=flexArrow;endArrow=classic;html=1;rounded=0;entryX=0.999;entryY=0.129;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" target="onKNXoKgGcAeMGmnEdmf-84" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="200" y="726.0699999999999" as="sourcePoint" />
            <mxPoint x="121" y="726.0699999999999" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="onKNXoKgGcAeMGmnEdmf-118" value="&lt;font color=&quot;#ffffff&quot;&gt;&lt;span style=&quot;font-size: 6px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;设置根root&lt;/span&gt;&lt;/font&gt;" style="strokeWidth=0.5;html=1;shape=mxgraph.flowchart.annotation_1;align=left;pointerEvents=1;strokeColor=#FFFFFF;direction=west;" parent="1" vertex="1">
          <mxGeometry x="-439" y="1107" width="10" height="40" as="geometry" />
        </mxCell>
        <mxCell id="onKNXoKgGcAeMGmnEdmf-120" value="&lt;span style=&quot;font-size: 6px;&quot;&gt;//下面for循环中的this是上面的hd双向链表&lt;/span&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontColor=#FFFFFF;" parent="1" vertex="1">
          <mxGeometry x="-441" y="1052.25" width="130" height="30" as="geometry" />
        </mxCell>
        <mxCell id="onKNXoKgGcAeMGmnEdmf-121" value="&lt;span style=&quot;font-family: Menlo, Monaco, Consolas, &amp;quot;Courier New&amp;quot;, monospace; font-size: 6px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; white-space: pre; text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial; float: none; display: inline !important;&quot;&gt;&lt;font color=&quot;#ffffff&quot;&gt; //获取当前元素的下一个元素，临时用于for循环中的复制&lt;/font&gt;&lt;/span&gt;" style="text;whiteSpace=wrap;html=1;fontSize=6;fontColor=default;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-402" y="1079.25" width="170" height="20" as="geometry" />
        </mxCell>
        <mxCell id="onKNXoKgGcAeMGmnEdmf-124" value="" style="endArrow=none;html=1;rounded=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;" parent="1" source="onKNXoKgGcAeMGmnEdmf-125" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-830" y="1120" as="sourcePoint" />
            <mxPoint x="-830" y="1020" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="onKNXoKgGcAeMGmnEdmf-123" value="this = hd" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.database;whiteSpace=wrap;" parent="1" vertex="1">
          <mxGeometry x="-859" y="1039.25" width="60" height="60" as="geometry" />
        </mxCell>
        <mxCell id="onKNXoKgGcAeMGmnEdmf-128" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="onKNXoKgGcAeMGmnEdmf-125" target="onKNXoKgGcAeMGmnEdmf-127" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="onKNXoKgGcAeMGmnEdmf-125" value="x = this" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-870" y="1130" width="80" height="20" as="geometry" />
        </mxCell>
        <mxCell id="onKNXoKgGcAeMGmnEdmf-131" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="onKNXoKgGcAeMGmnEdmf-127" target="onKNXoKgGcAeMGmnEdmf-130" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="onKNXoKgGcAeMGmnEdmf-132" value="是" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="onKNXoKgGcAeMGmnEdmf-131" vertex="1" connectable="0">
          <mxGeometry x="0.248" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="onKNXoKgGcAeMGmnEdmf-148" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.25;entryY=0;entryDx=0;entryDy=0;" parent="1" target="onKNXoKgGcAeMGmnEdmf-150" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-720" y="1630" as="targetPoint" />
            <mxPoint x="-790" y="1209" as="sourcePoint" />
            <Array as="points">
              <mxPoint x="-708" y="1209" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="onKNXoKgGcAeMGmnEdmf-149" value="否" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="onKNXoKgGcAeMGmnEdmf-148" vertex="1" connectable="0">
          <mxGeometry x="-0.8947" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="onKNXoKgGcAeMGmnEdmf-261" value="&lt;font color=&quot;#cc0000&quot;&gt;跳出大循环&lt;/font&gt;" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="onKNXoKgGcAeMGmnEdmf-148" vertex="1" connectable="0">
          <mxGeometry x="-0.2273" y="1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="onKNXoKgGcAeMGmnEdmf-127" value="x!=null" style="rhombus;whiteSpace=wrap;html=1;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="-870" y="1169" width="80" height="80" as="geometry" />
        </mxCell>
        <mxCell id="onKNXoKgGcAeMGmnEdmf-129" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="1" source="onKNXoKgGcAeMGmnEdmf-127" target="onKNXoKgGcAeMGmnEdmf-127" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="onKNXoKgGcAeMGmnEdmf-135" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="onKNXoKgGcAeMGmnEdmf-130" target="onKNXoKgGcAeMGmnEdmf-134" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="onKNXoKgGcAeMGmnEdmf-130" value="next = x.next;" style="whiteSpace=wrap;html=1;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="-890" y="1279" width="120" height="31" as="geometry" />
        </mxCell>
        <mxCell id="onKNXoKgGcAeMGmnEdmf-133" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="1" source="onKNXoKgGcAeMGmnEdmf-130" target="onKNXoKgGcAeMGmnEdmf-130" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="onKNXoKgGcAeMGmnEdmf-140" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="onKNXoKgGcAeMGmnEdmf-134" target="onKNXoKgGcAeMGmnEdmf-139" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="onKNXoKgGcAeMGmnEdmf-141" value="是" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="onKNXoKgGcAeMGmnEdmf-140" vertex="1" connectable="0">
          <mxGeometry x="-0.0807" y="1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="onKNXoKgGcAeMGmnEdmf-146" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="onKNXoKgGcAeMGmnEdmf-134" target="onKNXoKgGcAeMGmnEdmf-145" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="onKNXoKgGcAeMGmnEdmf-147" value="否" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="onKNXoKgGcAeMGmnEdmf-146" vertex="1" connectable="0">
          <mxGeometry x="-0.1667" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="onKNXoKgGcAeMGmnEdmf-134" value="root == null" style="rhombus;whiteSpace=wrap;html=1;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="-870" y="1365.5" width="80" height="80" as="geometry" />
        </mxCell>
        <mxCell id="onKNXoKgGcAeMGmnEdmf-143" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.25;entryDx=0;entryDy=0;" parent="1" target="onKNXoKgGcAeMGmnEdmf-142" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-1003.0000000000002" y="1435.5" as="sourcePoint" />
            <mxPoint x="-823.0000000000002" y="1870" as="targetPoint" />
            <Array as="points">
              <mxPoint x="-1003" y="2185" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="onKNXoKgGcAeMGmnEdmf-139" value="x.parent=null;&lt;div&gt;x.red = false;&lt;/div&gt;&lt;div&gt;root = x;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-1047" y="1375.5" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="onKNXoKgGcAeMGmnEdmf-144" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;exitX=0;exitY=0.5;exitDx=0;exitDy=0;" parent="1" source="onKNXoKgGcAeMGmnEdmf-142" target="onKNXoKgGcAeMGmnEdmf-127" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="-1090" y="2200" />
              <mxPoint x="-1090" y="1209" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="onKNXoKgGcAeMGmnEdmf-142" value="x = next;" style="whiteSpace=wrap;html=1;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="-895.5" y="2170" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="onKNXoKgGcAeMGmnEdmf-214" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="onKNXoKgGcAeMGmnEdmf-145" target="onKNXoKgGcAeMGmnEdmf-213" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="onKNXoKgGcAeMGmnEdmf-145" value="p = root;" style="whiteSpace=wrap;html=1;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="-890" y="1486.5" width="120" height="33.5" as="geometry" />
        </mxCell>
        <mxCell id="onKNXoKgGcAeMGmnEdmf-150" value="&lt;pre style=&quot;font-size: 8px; text-align: left;&quot;&gt;&lt;span style=&quot;&quot;&gt;moveRootToFront&lt;/span&gt;(&lt;span style=&quot;&quot;&gt;tab&lt;/span&gt;, root);&lt;/pre&gt;" style="rounded=0;whiteSpace=wrap;html=1;fontColor=#000000;" parent="1" vertex="1">
          <mxGeometry x="-748" y="1477" width="160" height="20" as="geometry" />
        </mxCell>
        <mxCell id="onKNXoKgGcAeMGmnEdmf-153" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="1" source="onKNXoKgGcAeMGmnEdmf-150" target="onKNXoKgGcAeMGmnEdmf-150" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <UserObject label="&lt;pre style=&quot;color: rgb(187, 187, 187); font-size: 8px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: left; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial;&quot;&gt;&lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic; font-size: 8px;&quot;&gt;static &lt;/span&gt;&amp;lt;&lt;span style=&quot;color: rgb(229, 192, 123); font-size: 8px;&quot;&gt;K&lt;/span&gt;,&lt;span style=&quot;color: rgb(229, 192, 123); font-size: 8px;&quot;&gt;V&lt;/span&gt;&amp;gt; &lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic; font-size: 8px;&quot;&gt;void &lt;/span&gt;&lt;span style=&quot;color: rgb(97, 175, 239); font-size: 8px;&quot;&gt;moveRootToFront&lt;/span&gt;(&lt;span style=&quot;color: rgb(229, 192, 123); font-size: 8px;&quot;&gt;Node&lt;/span&gt;&amp;lt;&lt;span style=&quot;color: rgb(229, 192, 123); font-size: 8px;&quot;&gt;K&lt;/span&gt;,&lt;span style=&quot;color: rgb(229, 192, 123); font-size: 8px;&quot;&gt;V&lt;/span&gt;&amp;gt;[] &lt;span style=&quot;color: rgb(209, 154, 102); font-size: 8px;&quot;&gt;tab&lt;/span&gt;, &lt;span style=&quot;color: rgb(229, 192, 123); font-size: 8px;&quot;&gt;TreeNode&lt;/span&gt;&amp;lt;&lt;span style=&quot;color: rgb(229, 192, 123); font-size: 8px;&quot;&gt;K&lt;/span&gt;,&lt;span style=&quot;color: rgb(229, 192, 123); font-size: 8px;&quot;&gt;V&lt;/span&gt;&amp;gt; &lt;span style=&quot;color: rgb(209, 154, 102); font-size: 8px;&quot;&gt;root&lt;/span&gt;) {&lt;br style=&quot;font-size: 8px;&quot;&gt;    &lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic; font-size: 8px;&quot;&gt;int &lt;/span&gt;n;&lt;br style=&quot;font-size: 8px;&quot;&gt;    &lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic; font-size: 8px;&quot;&gt;if &lt;/span&gt;(&lt;span style=&quot;color: rgb(209, 154, 102); font-size: 8px;&quot;&gt;root &lt;/span&gt;!= &lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic; font-size: 8px;&quot;&gt;null &lt;/span&gt;&amp;amp;&amp;amp; &lt;span style=&quot;color: rgb(209, 154, 102); font-size: 8px;&quot;&gt;tab &lt;/span&gt;!= &lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic; font-size: 8px;&quot;&gt;null &lt;/span&gt;&amp;amp;&amp;amp; (n = &lt;span style=&quot;color: rgb(209, 154, 102); font-size: 8px;&quot;&gt;tab&lt;/span&gt;.&lt;span style=&quot;color: rgb(239, 89, 111); font-size: 8px;&quot;&gt;length&lt;/span&gt;) &amp;gt; &lt;span style=&quot;color: rgb(209, 154, 102); font-size: 8px;&quot;&gt;0&lt;/span&gt;) {&lt;br style=&quot;font-size: 8px;&quot;&gt;        &lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic; font-size: 8px;&quot;&gt;int &lt;/span&gt;index = (n - &lt;span style=&quot;color: rgb(209, 154, 102); font-size: 8px;&quot;&gt;1&lt;/span&gt;) &amp;amp; &lt;span style=&quot;color: rgb(209, 154, 102); font-size: 8px;&quot;&gt;root&lt;/span&gt;.hash;&lt;br style=&quot;font-size: 8px;&quot;&gt;        &lt;span style=&quot;color: rgb(229, 192, 123); font-size: 8px;&quot;&gt;TreeNode&lt;/span&gt;&amp;lt;&lt;span style=&quot;color: rgb(229, 192, 123); font-size: 8px;&quot;&gt;K&lt;/span&gt;,&lt;span style=&quot;color: rgb(229, 192, 123); font-size: 8px;&quot;&gt;V&lt;/span&gt;&amp;gt; first = (&lt;span style=&quot;color: rgb(229, 192, 123); font-size: 8px;&quot;&gt;TreeNode&lt;/span&gt;&amp;lt;&lt;span style=&quot;color: rgb(229, 192, 123); font-size: 8px;&quot;&gt;K&lt;/span&gt;,&lt;span style=&quot;color: rgb(229, 192, 123); font-size: 8px;&quot;&gt;V&lt;/span&gt;&amp;gt;)&lt;span style=&quot;color: rgb(209, 154, 102); font-size: 8px;&quot;&gt;tab&lt;/span&gt;[index];&lt;br style=&quot;font-size: 8px;&quot;&gt;        &lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic; font-size: 8px;&quot;&gt;if &lt;/span&gt;(&lt;span style=&quot;color: rgb(209, 154, 102); font-size: 8px;&quot;&gt;root &lt;/span&gt;!= first) {&lt;br style=&quot;font-size: 8px;&quot;&gt;            &lt;span style=&quot;color: rgb(229, 192, 123); font-size: 8px;&quot;&gt;Node&lt;/span&gt;&amp;lt;&lt;span style=&quot;color: rgb(229, 192, 123); font-size: 8px;&quot;&gt;K&lt;/span&gt;,&lt;span style=&quot;color: rgb(229, 192, 123); font-size: 8px;&quot;&gt;V&lt;/span&gt;&amp;gt; rn;&lt;br style=&quot;font-size: 8px;&quot;&gt;            &lt;span style=&quot;color: rgb(209, 154, 102); font-size: 8px;&quot;&gt;tab&lt;/span&gt;[index] = &lt;span style=&quot;color: rgb(209, 154, 102); font-size: 8px;&quot;&gt;root&lt;/span&gt;;&lt;br style=&quot;font-size: 8px;&quot;&gt;            &lt;span style=&quot;color: rgb(229, 192, 123); font-size: 8px;&quot;&gt;TreeNode&lt;/span&gt;&amp;lt;&lt;span style=&quot;color: rgb(229, 192, 123); font-size: 8px;&quot;&gt;K&lt;/span&gt;,&lt;span style=&quot;color: rgb(229, 192, 123); font-size: 8px;&quot;&gt;V&lt;/span&gt;&amp;gt; rp = &lt;span style=&quot;color: rgb(209, 154, 102); font-size: 8px;&quot;&gt;root&lt;/span&gt;.&lt;span style=&quot;color: rgb(239, 89, 111); font-size: 8px;&quot;&gt;prev&lt;/span&gt;;&lt;br style=&quot;font-size: 8px;&quot;&gt;            &lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic; font-size: 8px;&quot;&gt;if &lt;/span&gt;((rn = &lt;span style=&quot;color: rgb(209, 154, 102); font-size: 8px;&quot;&gt;root&lt;/span&gt;.next) != &lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic; font-size: 8px;&quot;&gt;null&lt;/span&gt;)&lt;br style=&quot;font-size: 8px;&quot;&gt;                ((&lt;span style=&quot;color: rgb(229, 192, 123); font-size: 8px;&quot;&gt;TreeNode&lt;/span&gt;&amp;lt;&lt;span style=&quot;color: rgb(229, 192, 123); font-size: 8px;&quot;&gt;K&lt;/span&gt;,&lt;span style=&quot;color: rgb(229, 192, 123); font-size: 8px;&quot;&gt;V&lt;/span&gt;&amp;gt;)rn).prev = rp;&lt;br style=&quot;font-size: 8px;&quot;&gt;            &lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic; font-size: 8px;&quot;&gt;if &lt;/span&gt;(rp != &lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic; font-size: 8px;&quot;&gt;null&lt;/span&gt;)&lt;br style=&quot;font-size: 8px;&quot;&gt;                rp.next = rn;&lt;br style=&quot;font-size: 8px;&quot;&gt;            &lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic; font-size: 8px;&quot;&gt;if &lt;/span&gt;(first != &lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic; font-size: 8px;&quot;&gt;null&lt;/span&gt;)&lt;br style=&quot;font-size: 8px;&quot;&gt;                first.&lt;span style=&quot;color: rgb(239, 89, 111); font-size: 8px;&quot;&gt;prev &lt;/span&gt;= &lt;span style=&quot;color: rgb(209, 154, 102); font-size: 8px;&quot;&gt;root&lt;/span&gt;;&lt;br style=&quot;font-size: 8px;&quot;&gt;            &lt;span style=&quot;color: rgb(209, 154, 102); font-size: 8px;&quot;&gt;root&lt;/span&gt;.next = first;&lt;br style=&quot;font-size: 8px;&quot;&gt;            &lt;span style=&quot;color: rgb(209, 154, 102); font-size: 8px;&quot;&gt;root&lt;/span&gt;.&lt;span style=&quot;color: rgb(239, 89, 111); font-size: 8px;&quot;&gt;prev &lt;/span&gt;= &lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic; font-size: 8px;&quot;&gt;null&lt;/span&gt;;&lt;br style=&quot;font-size: 8px;&quot;&gt;        }&lt;br style=&quot;font-size: 8px;&quot;&gt;        &lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic; font-size: 8px;&quot;&gt;assert &lt;/span&gt;&lt;span style=&quot;color: rgb(97, 175, 239); font-size: 8px;&quot;&gt;checkInvariants&lt;/span&gt;(&lt;span style=&quot;color: rgb(209, 154, 102); font-size: 8px;&quot;&gt;root&lt;/span&gt;);&lt;br style=&quot;font-size: 8px;&quot;&gt;    }&lt;br style=&quot;font-size: 8px;&quot;&gt;}&lt;/pre&gt;" link="&lt;pre style=&quot;color: rgb(187, 187, 187); font-size: 20px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: left; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial;&quot;&gt;&lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic;&quot;&gt;static &lt;/span&gt;&amp;lt;&lt;span style=&quot;color: rgb(229, 192, 123);&quot;&gt;K&lt;/span&gt;,&lt;span style=&quot;color: rgb(229, 192, 123);&quot;&gt;V&lt;/span&gt;&amp;gt; &lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic;&quot;&gt;void &lt;/span&gt;&lt;span style=&quot;color: rgb(97, 175, 239);&quot;&gt;moveRootToFront&lt;/span&gt;(&lt;span style=&quot;color: rgb(229, 192, 123);&quot;&gt;Node&lt;/span&gt;&amp;lt;&lt;span style=&quot;color: rgb(229, 192, 123);&quot;&gt;K&lt;/span&gt;,&lt;span style=&quot;color: rgb(229, 192, 123);&quot;&gt;V&lt;/span&gt;&amp;gt;[] &lt;span style=&quot;color: rgb(209, 154, 102);&quot;&gt;tab&lt;/span&gt;, &lt;span style=&quot;color: rgb(229, 192, 123);&quot;&gt;TreeNode&lt;/span&gt;&amp;lt;&lt;span style=&quot;color: rgb(229, 192, 123);&quot;&gt;K&lt;/span&gt;,&lt;span style=&quot;color: rgb(229, 192, 123);&quot;&gt;V&lt;/span&gt;&amp;gt; &lt;span style=&quot;color: rgb(209, 154, 102);&quot;&gt;root&lt;/span&gt;) {&lt;br&gt;    &lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic;&quot;&gt;int &lt;/span&gt;n;&lt;br&gt;    &lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic;&quot;&gt;if &lt;/span&gt;(&lt;span style=&quot;color: rgb(209, 154, 102);&quot;&gt;root &lt;/span&gt;!= &lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic;&quot;&gt;null &lt;/span&gt;&amp;amp;&amp;amp; &lt;span style=&quot;color: rgb(209, 154, 102);&quot;&gt;tab &lt;/span&gt;!= &lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic;&quot;&gt;null &lt;/span&gt;&amp;amp;&amp;amp; (n = &lt;span style=&quot;color: rgb(209, 154, 102);&quot;&gt;tab&lt;/span&gt;.&lt;span style=&quot;color: rgb(239, 89, 111);&quot;&gt;length&lt;/span&gt;) &amp;gt; &lt;span style=&quot;color: rgb(209, 154, 102);&quot;&gt;0&lt;/span&gt;) {&lt;br&gt;        &lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic;&quot;&gt;int &lt;/span&gt;index = (n - &lt;span style=&quot;color: rgb(209, 154, 102);&quot;&gt;1&lt;/span&gt;) &amp;amp; &lt;span style=&quot;color: rgb(209, 154, 102);&quot;&gt;root&lt;/span&gt;.hash;&lt;br&gt;        &lt;span style=&quot;color: rgb(229, 192, 123);&quot;&gt;TreeNode&lt;/span&gt;&amp;lt;&lt;span style=&quot;color: rgb(229, 192, 123);&quot;&gt;K&lt;/span&gt;,&lt;span style=&quot;color: rgb(229, 192, 123);&quot;&gt;V&lt;/span&gt;&amp;gt; first = (&lt;span style=&quot;color: rgb(229, 192, 123);&quot;&gt;TreeNode&lt;/span&gt;&amp;lt;&lt;span style=&quot;color: rgb(229, 192, 123);&quot;&gt;K&lt;/span&gt;,&lt;span style=&quot;color: rgb(229, 192, 123);&quot;&gt;V&lt;/span&gt;&amp;gt;)&lt;span style=&quot;color: rgb(209, 154, 102);&quot;&gt;tab&lt;/span&gt;[index];&lt;br&gt;        &lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic;&quot;&gt;if &lt;/span&gt;(&lt;span style=&quot;color: rgb(209, 154, 102);&quot;&gt;root &lt;/span&gt;!= first) {&lt;br&gt;            &lt;span style=&quot;color: rgb(229, 192, 123);&quot;&gt;Node&lt;/span&gt;&amp;lt;&lt;span style=&quot;color: rgb(229, 192, 123);&quot;&gt;K&lt;/span&gt;,&lt;span style=&quot;color: rgb(229, 192, 123);&quot;&gt;V&lt;/span&gt;&amp;gt; rn;&lt;br&gt;            &lt;span style=&quot;color: rgb(209, 154, 102);&quot;&gt;tab&lt;/span&gt;[index] = &lt;span style=&quot;color: rgb(209, 154, 102);&quot;&gt;root&lt;/span&gt;;&lt;br&gt;            &lt;span style=&quot;color: rgb(229, 192, 123);&quot;&gt;TreeNode&lt;/span&gt;&amp;lt;&lt;span style=&quot;color: rgb(229, 192, 123);&quot;&gt;K&lt;/span&gt;,&lt;span style=&quot;color: rgb(229, 192, 123);&quot;&gt;V&lt;/span&gt;&amp;gt; rp = &lt;span style=&quot;color: rgb(209, 154, 102);&quot;&gt;root&lt;/span&gt;.&lt;span style=&quot;color: rgb(239, 89, 111);&quot;&gt;prev&lt;/span&gt;;&lt;br&gt;            &lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic;&quot;&gt;if &lt;/span&gt;((rn = &lt;span style=&quot;color: rgb(209, 154, 102);&quot;&gt;root&lt;/span&gt;.next) != &lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic;&quot;&gt;null&lt;/span&gt;)&lt;br&gt;                ((&lt;span style=&quot;color: rgb(229, 192, 123);&quot;&gt;TreeNode&lt;/span&gt;&amp;lt;&lt;span style=&quot;color: rgb(229, 192, 123);&quot;&gt;K&lt;/span&gt;,&lt;span style=&quot;color: rgb(229, 192, 123);&quot;&gt;V&lt;/span&gt;&amp;gt;)rn).prev = rp;&lt;br&gt;            &lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic;&quot;&gt;if &lt;/span&gt;(rp != &lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic;&quot;&gt;null&lt;/span&gt;)&lt;br&gt;                rp.next = rn;&lt;br&gt;            &lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic;&quot;&gt;if &lt;/span&gt;(first != &lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic;&quot;&gt;null&lt;/span&gt;)&lt;br&gt;                first.&lt;span style=&quot;color: rgb(239, 89, 111);&quot;&gt;prev &lt;/span&gt;= &lt;span style=&quot;color: rgb(209, 154, 102);&quot;&gt;root&lt;/span&gt;;&lt;br&gt;            &lt;span style=&quot;color: rgb(209, 154, 102);&quot;&gt;root&lt;/span&gt;.next = first;&lt;br&gt;            &lt;span style=&quot;color: rgb(209, 154, 102);&quot;&gt;root&lt;/span&gt;.&lt;span style=&quot;color: rgb(239, 89, 111);&quot;&gt;prev &lt;/span&gt;= &lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic;&quot;&gt;null&lt;/span&gt;;&lt;br&gt;        }&lt;br&gt;        &lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic;&quot;&gt;assert &lt;/span&gt;&lt;span style=&quot;color: rgb(97, 175, 239);&quot;&gt;checkInvariants&lt;/span&gt;(&lt;span style=&quot;color: rgb(209, 154, 102);&quot;&gt;root&lt;/span&gt;);&lt;br&gt;    }&lt;br&gt;}&lt;/pre&gt;" id="onKNXoKgGcAeMGmnEdmf-155">
          <mxCell style="text;whiteSpace=wrap;html=1;fontSize=8;fillColor=#000000;" parent="1" vertex="1">
            <mxGeometry x="-580" y="1460" width="390" height="230" as="geometry" />
          </mxCell>
        </UserObject>
        <mxCell id="onKNXoKgGcAeMGmnEdmf-156" value="&lt;span style=&quot;color: rgb(0, 0, 0); font-family: Helvetica; font-size: 6px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; white-space: normal; text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial; float: none; display: inline !important;&quot;&gt;K k = x.key;&lt;/span&gt;&lt;div style=&quot;color: rgb(0, 0, 0); font-family: Helvetica; font-size: 6px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; white-space: normal; text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial;&quot;&gt;int h = x.hash;&lt;/div&gt;&lt;div style=&quot;color: rgb(0, 0, 0); font-family: Helvetica; font-size: 6px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; white-space: normal; text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial;&quot;&gt;Class&amp;lt;?&amp;gt; kc = null;&lt;/div&gt;" style="text;whiteSpace=wrap;html=1;align=left;fontSize=6;" parent="1" vertex="1">
          <mxGeometry x="-825" y="1447" width="67" height="33.5" as="geometry" />
        </mxCell>
        <mxCell id="onKNXoKgGcAeMGmnEdmf-161" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="onKNXoKgGcAeMGmnEdmf-158" target="onKNXoKgGcAeMGmnEdmf-160" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="onKNXoKgGcAeMGmnEdmf-165" value="是" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="onKNXoKgGcAeMGmnEdmf-161" vertex="1" connectable="0">
          <mxGeometry x="-0.264" y="-3" relative="1" as="geometry">
            <mxPoint x="-1" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="onKNXoKgGcAeMGmnEdmf-163" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="onKNXoKgGcAeMGmnEdmf-158" target="onKNXoKgGcAeMGmnEdmf-164" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-830" y="1670.625" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="onKNXoKgGcAeMGmnEdmf-166" value="否" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="onKNXoKgGcAeMGmnEdmf-163" vertex="1" connectable="0">
          <mxGeometry x="0.4962" y="3" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="onKNXoKgGcAeMGmnEdmf-158" value="ph&amp;gt;h" style="rhombus;whiteSpace=wrap;html=1;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="-855" y="1580.75" width="50" height="33.25" as="geometry" />
        </mxCell>
        <mxCell id="onKNXoKgGcAeMGmnEdmf-192" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.75;entryDx=0;entryDy=0;" parent="1" source="onKNXoKgGcAeMGmnEdmf-160" target="onKNXoKgGcAeMGmnEdmf-189" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="-970" y="1598" />
              <mxPoint x="-970" y="1816" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="onKNXoKgGcAeMGmnEdmf-160" value="dir = -1" style="ellipse;whiteSpace=wrap;html=1;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="-931" y="1580" width="40" height="35.38" as="geometry" />
        </mxCell>
        <mxCell id="onKNXoKgGcAeMGmnEdmf-177" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="onKNXoKgGcAeMGmnEdmf-164" target="onKNXoKgGcAeMGmnEdmf-176" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="onKNXoKgGcAeMGmnEdmf-179" value="否" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="onKNXoKgGcAeMGmnEdmf-177" vertex="1" connectable="0">
          <mxGeometry x="-0.2864" y="-1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="onKNXoKgGcAeMGmnEdmf-164" value="ph&amp;lt;h" style="rhombus;whiteSpace=wrap;html=1;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="-855" y="1638" width="50" height="33.25" as="geometry" />
        </mxCell>
        <mxCell id="onKNXoKgGcAeMGmnEdmf-173" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;" parent="1" source="onKNXoKgGcAeMGmnEdmf-164" target="onKNXoKgGcAeMGmnEdmf-175" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-859" y="1654.94" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="onKNXoKgGcAeMGmnEdmf-174" value="是" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="onKNXoKgGcAeMGmnEdmf-173" vertex="1" connectable="0">
          <mxGeometry x="-0.264" y="-3" relative="1" as="geometry">
            <mxPoint x="-1" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="onKNXoKgGcAeMGmnEdmf-193" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="onKNXoKgGcAeMGmnEdmf-175" target="onKNXoKgGcAeMGmnEdmf-189" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="onKNXoKgGcAeMGmnEdmf-175" value="dir = 1" style="ellipse;whiteSpace=wrap;html=1;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="-926" y="1636.94" width="40" height="35.38" as="geometry" />
        </mxCell>
        <mxCell id="onKNXoKgGcAeMGmnEdmf-184" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="onKNXoKgGcAeMGmnEdmf-176" target="onKNXoKgGcAeMGmnEdmf-183" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="onKNXoKgGcAeMGmnEdmf-185" value="是" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="onKNXoKgGcAeMGmnEdmf-184" vertex="1" connectable="0">
          <mxGeometry x="-0.4724" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="onKNXoKgGcAeMGmnEdmf-178" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="1" source="onKNXoKgGcAeMGmnEdmf-176" target="onKNXoKgGcAeMGmnEdmf-176" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="onKNXoKgGcAeMGmnEdmf-194" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=1;entryY=0.75;entryDx=0;entryDy=0;" parent="1" source="onKNXoKgGcAeMGmnEdmf-183" target="onKNXoKgGcAeMGmnEdmf-189" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="onKNXoKgGcAeMGmnEdmf-183" value="&lt;pre style=&quot;font-size: 8px; text-align: left;&quot;&gt;dir = &lt;span style=&quot;&quot;&gt;tieBreakOrder&lt;/span&gt;(k, pk);&lt;/pre&gt;" style="whiteSpace=wrap;html=1;rounded=0;fontColor=#000000;" parent="1" vertex="1">
          <mxGeometry x="-740" y="1722" width="150" height="20.95" as="geometry" />
        </mxCell>
        <mxCell id="onKNXoKgGcAeMGmnEdmf-297" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0.908;entryY=1.025;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" source="onKNXoKgGcAeMGmnEdmf-186" target="onKNXoKgGcAeMGmnEdmf-213" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-804.9968062148198" y="1891.4908163265304" as="sourcePoint" />
            <mxPoint x="-785" y="1570" as="targetPoint" />
            <Array as="points">
              <mxPoint x="-786" y="1878" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="onKNXoKgGcAeMGmnEdmf-298" value="否" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="onKNXoKgGcAeMGmnEdmf-297" vertex="1" connectable="0">
          <mxGeometry x="-0.9553" y="-1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="onKNXoKgGcAeMGmnEdmf-176" value="kc == null ||&lt;div&gt;dir == 0&lt;/div&gt;" style="rhombus;whiteSpace=wrap;html=1;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="-890" y="1705.88" width="120" height="54.13" as="geometry" />
        </mxCell>
        <mxCell id="onKNXoKgGcAeMGmnEdmf-186" value="p==null" style="rhombus;whiteSpace=wrap;html=1;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="-860" y="1851" width="60" height="54.13" as="geometry" />
        </mxCell>
        <mxCell id="onKNXoKgGcAeMGmnEdmf-195" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="onKNXoKgGcAeMGmnEdmf-189" target="onKNXoKgGcAeMGmnEdmf-186" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="onKNXoKgGcAeMGmnEdmf-189" value="p = (dir&amp;lt;=0) ? p.left : p.right;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-913" y="1793" width="166" height="30" as="geometry" />
        </mxCell>
        <mxCell id="onKNXoKgGcAeMGmnEdmf-190" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="onKNXoKgGcAeMGmnEdmf-176" target="onKNXoKgGcAeMGmnEdmf-189" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-850" y="1832" as="sourcePoint" />
            <mxPoint x="-800" y="1782" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="onKNXoKgGcAeMGmnEdmf-191" value="否" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="onKNXoKgGcAeMGmnEdmf-190" vertex="1" connectable="0">
          <mxGeometry x="-0.2731" y="-1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="onKNXoKgGcAeMGmnEdmf-198" value="xp = p;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-917" y="1768" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="onKNXoKgGcAeMGmnEdmf-216" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="onKNXoKgGcAeMGmnEdmf-213" target="onKNXoKgGcAeMGmnEdmf-158" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="onKNXoKgGcAeMGmnEdmf-213" value="&lt;span style=&quot;font-size: 6px; text-align: left;&quot;&gt;K pk = p.key;&lt;/span&gt;&lt;div style=&quot;font-size: 6px; text-align: left;&quot;&gt;int ph = p.hash;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;verticalAlign=bottom;" parent="1" vertex="1">
          <mxGeometry x="-884.5" y="1540" width="109" height="20" as="geometry" />
        </mxCell>
        <mxCell id="onKNXoKgGcAeMGmnEdmf-250" value="" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-971" y="1945" width="320" height="185" as="geometry" />
        </mxCell>
        <mxCell id="onKNXoKgGcAeMGmnEdmf-199" value="r" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;" parent="1" vertex="1">
          <mxGeometry x="-790" y="1973.07" width="20" height="20" as="geometry" />
        </mxCell>
        <mxCell id="onKNXoKgGcAeMGmnEdmf-200" value="l" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;" parent="1" vertex="1">
          <mxGeometry x="-835" y="1993" width="20" height="20" as="geometry" />
        </mxCell>
        <mxCell id="onKNXoKgGcAeMGmnEdmf-201" value="r" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;" parent="1" vertex="1">
          <mxGeometry x="-750" y="1993" width="20" height="20" as="geometry" />
        </mxCell>
        <mxCell id="onKNXoKgGcAeMGmnEdmf-203" value="" style="endArrow=none;html=1;rounded=0;entryX=0;entryY=1;entryDx=0;entryDy=0;exitX=1;exitY=0;exitDx=0;exitDy=0;" parent="1" source="onKNXoKgGcAeMGmnEdmf-200" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-950" y="1961" as="sourcePoint" />
            <mxPoint x="-787.0710678118653" y="1984.1410678118655" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="onKNXoKgGcAeMGmnEdmf-204" value="" style="endArrow=none;html=1;rounded=0;entryX=1;entryY=1;entryDx=0;entryDy=0;exitX=0;exitY=0;exitDx=0;exitDy=0;" parent="1" source="onKNXoKgGcAeMGmnEdmf-201" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-808" y="2034" as="sourcePoint" />
            <mxPoint x="-772.9289321881342" y="1984.1410678118655" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="onKNXoKgGcAeMGmnEdmf-205" value="p" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-955" y="2042" width="30" height="30" as="geometry" />
        </mxCell>
        <mxCell id="onKNXoKgGcAeMGmnEdmf-206" value="root" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-716" y="1968.07" width="40" height="30" as="geometry" />
        </mxCell>
        <mxCell id="onKNXoKgGcAeMGmnEdmf-210" value="l" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;" parent="1" vertex="1">
          <mxGeometry x="-883" y="2012" width="20" height="20" as="geometry" />
        </mxCell>
        <mxCell id="onKNXoKgGcAeMGmnEdmf-211" value="" style="endArrow=none;html=1;rounded=0;entryX=0;entryY=1;entryDx=0;entryDy=0;exitX=1;exitY=0;exitDx=0;exitDy=0;" parent="1" source="onKNXoKgGcAeMGmnEdmf-210" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-998" y="1983" as="sourcePoint" />
            <mxPoint x="-835" y="2006" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="onKNXoKgGcAeMGmnEdmf-230" value="e0" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;" parent="1" vertex="1">
          <mxGeometry x="-922" y="1948" width="20" height="20" as="geometry" />
        </mxCell>
        <mxCell id="onKNXoKgGcAeMGmnEdmf-231" value="e1" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;" parent="1" vertex="1">
          <mxGeometry x="-882" y="1948" width="20" height="20" as="geometry" />
        </mxCell>
        <mxCell id="onKNXoKgGcAeMGmnEdmf-232" value="e2" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;" parent="1" vertex="1">
          <mxGeometry x="-842" y="1948" width="20" height="20" as="geometry" />
        </mxCell>
        <mxCell id="onKNXoKgGcAeMGmnEdmf-233" value="e3" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;" parent="1" vertex="1">
          <mxGeometry x="-802" y="1948" width="20" height="20" as="geometry" />
        </mxCell>
        <mxCell id="onKNXoKgGcAeMGmnEdmf-234" value="e4" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;" parent="1" vertex="1">
          <mxGeometry x="-762" y="1948" width="20" height="20" as="geometry" />
        </mxCell>
        <mxCell id="onKNXoKgGcAeMGmnEdmf-235" value="e5" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;" parent="1" vertex="1">
          <mxGeometry x="-722" y="1948" width="20" height="20" as="geometry" />
        </mxCell>
        <mxCell id="onKNXoKgGcAeMGmnEdmf-236" value="" style="endArrow=classic;startArrow=classic;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" parent="1" source="onKNXoKgGcAeMGmnEdmf-230" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-952" y="1828" as="sourcePoint" />
            <mxPoint x="-882" y="1958" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="onKNXoKgGcAeMGmnEdmf-237" value="" style="endArrow=classic;startArrow=classic;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-862" y="1957.8400000000001" as="sourcePoint" />
            <mxPoint x="-842" y="1957.8400000000001" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="onKNXoKgGcAeMGmnEdmf-238" value="" style="endArrow=classic;startArrow=classic;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-822" y="1957.8400000000001" as="sourcePoint" />
            <mxPoint x="-802" y="1957.8400000000001" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="onKNXoKgGcAeMGmnEdmf-239" value="" style="endArrow=classic;startArrow=classic;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-782" y="1957.8400000000001" as="sourcePoint" />
            <mxPoint x="-762" y="1957.8400000000001" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="onKNXoKgGcAeMGmnEdmf-240" value="" style="endArrow=classic;startArrow=classic;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-742" y="1957.8400000000001" as="sourcePoint" />
            <mxPoint x="-722" y="1957.8400000000001" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="onKNXoKgGcAeMGmnEdmf-241" value="e6" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;" parent="1" vertex="1">
          <mxGeometry x="-682" y="1948" width="20" height="20" as="geometry" />
        </mxCell>
        <mxCell id="onKNXoKgGcAeMGmnEdmf-242" value="" style="endArrow=classic;startArrow=classic;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-702" y="1957.8400000000001" as="sourcePoint" />
            <mxPoint x="-682" y="1957.8400000000001" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="onKNXoKgGcAeMGmnEdmf-243" value="x的取值" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-980" y="1944" width="70" height="30" as="geometry" />
        </mxCell>
        <mxCell id="onKNXoKgGcAeMGmnEdmf-244" value="xp" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-962" y="2012" width="40" height="30" as="geometry" />
        </mxCell>
        <mxCell id="onKNXoKgGcAeMGmnEdmf-248" value="" style="endArrow=none;html=1;rounded=0;entryX=0;entryY=1;entryDx=0;entryDy=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;" parent="1" source="onKNXoKgGcAeMGmnEdmf-252" target="onKNXoKgGcAeMGmnEdmf-210" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-909.3200000000002" y="2039.33" as="sourcePoint" />
            <mxPoint x="-883" y="2032" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="onKNXoKgGcAeMGmnEdmf-249" value="&lt;div&gt;x.parent = xp&lt;/div&gt;xp.left = x&lt;div&gt;root = balanceInsertion(root,x) //&lt;span style=&quot;background-color: rgb(248, 248, 248); color: rgb(51, 51, 51); font-family: Menlo, Monaco, Consolas, &amp;quot;Courier New&amp;quot;, monospace; white-space-collapse: preserve;&quot;&gt;重新平衡红黑树&lt;/span&gt;&lt;/div&gt;&lt;div&gt;break;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-946" y="2058" width="280" height="70" as="geometry" />
        </mxCell>
        <mxCell id="onKNXoKgGcAeMGmnEdmf-252" value="null" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;" parent="1" vertex="1">
          <mxGeometry x="-922" y="2047" width="20" height="20" as="geometry" />
        </mxCell>
        <mxCell id="onKNXoKgGcAeMGmnEdmf-256" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.44;entryY=-0.002;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" source="onKNXoKgGcAeMGmnEdmf-186" target="onKNXoKgGcAeMGmnEdmf-250" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="onKNXoKgGcAeMGmnEdmf-260" value="是" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="onKNXoKgGcAeMGmnEdmf-256" vertex="1" connectable="0">
          <mxGeometry x="-0.4596" y="-1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="onKNXoKgGcAeMGmnEdmf-257" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.704;entryY=0.002;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" source="onKNXoKgGcAeMGmnEdmf-250" target="onKNXoKgGcAeMGmnEdmf-142" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="onKNXoKgGcAeMGmnEdmf-259" value="&lt;font color=&quot;#ff3333&quot;&gt;跳出小循环, 进行后续链表元素的树化操作&lt;/font&gt;" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="onKNXoKgGcAeMGmnEdmf-257" vertex="1" connectable="0">
          <mxGeometry x="0.007" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="onKNXoKgGcAeMGmnEdmf-262" value="hd.treeify(tab)" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-886" y="990" width="120" height="30.26" as="geometry" />
        </mxCell>
        <mxCell id="onKNXoKgGcAeMGmnEdmf-277" value="e0" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;" parent="1" vertex="1">
          <mxGeometry x="-1150" y="1129" width="20" height="20" as="geometry" />
        </mxCell>
        <mxCell id="onKNXoKgGcAeMGmnEdmf-278" value="e1" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;" parent="1" vertex="1">
          <mxGeometry x="-1110" y="1129" width="20" height="20" as="geometry" />
        </mxCell>
        <mxCell id="onKNXoKgGcAeMGmnEdmf-279" value="e2" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;" parent="1" vertex="1">
          <mxGeometry x="-1070" y="1129" width="20" height="20" as="geometry" />
        </mxCell>
        <mxCell id="onKNXoKgGcAeMGmnEdmf-280" value="e3" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;" parent="1" vertex="1">
          <mxGeometry x="-1030" y="1129" width="20" height="20" as="geometry" />
        </mxCell>
        <mxCell id="onKNXoKgGcAeMGmnEdmf-281" value="e4" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;" parent="1" vertex="1">
          <mxGeometry x="-990" y="1129" width="20" height="20" as="geometry" />
        </mxCell>
        <mxCell id="onKNXoKgGcAeMGmnEdmf-282" value="e5" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;" parent="1" vertex="1">
          <mxGeometry x="-950" y="1129" width="20" height="20" as="geometry" />
        </mxCell>
        <mxCell id="onKNXoKgGcAeMGmnEdmf-283" value="" style="endArrow=classic;startArrow=classic;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" parent="1" source="onKNXoKgGcAeMGmnEdmf-277" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-1180" y="1009" as="sourcePoint" />
            <mxPoint x="-1110" y="1139" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="onKNXoKgGcAeMGmnEdmf-284" value="" style="endArrow=classic;startArrow=classic;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-1090" y="1138.8400000000001" as="sourcePoint" />
            <mxPoint x="-1070" y="1138.8400000000001" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="onKNXoKgGcAeMGmnEdmf-285" value="" style="endArrow=classic;startArrow=classic;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-1050" y="1138.8400000000001" as="sourcePoint" />
            <mxPoint x="-1030" y="1138.8400000000001" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="onKNXoKgGcAeMGmnEdmf-286" value="" style="endArrow=classic;startArrow=classic;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-1010" y="1138.8400000000001" as="sourcePoint" />
            <mxPoint x="-990" y="1138.8400000000001" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="onKNXoKgGcAeMGmnEdmf-287" value="" style="endArrow=classic;startArrow=classic;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-970" y="1138.8400000000001" as="sourcePoint" />
            <mxPoint x="-950" y="1138.8400000000001" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="onKNXoKgGcAeMGmnEdmf-288" value="e6" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;" parent="1" vertex="1">
          <mxGeometry x="-910" y="1129" width="20" height="20" as="geometry" />
        </mxCell>
        <mxCell id="onKNXoKgGcAeMGmnEdmf-289" value="" style="endArrow=classic;startArrow=classic;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-930" y="1138.8400000000001" as="sourcePoint" />
            <mxPoint x="-910" y="1138.8400000000001" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="onKNXoKgGcAeMGmnEdmf-290" value="x的取值" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-1216" y="1125" width="70" height="30" as="geometry" />
        </mxCell>
        <UserObject label="&lt;div&gt;&lt;div&gt;&lt;font color=&quot;#009900&quot;&gt;&lt;span style=&quot;&quot; class=&quot;code-block-extension-codeLine&quot; data-line-num=&quot;47&quot;&gt;注：xp和p的关系是父子节点； 这个操作主要是找出符合条件的叶子节点xp&lt;br&gt;根据dir &amp;lt;= 0 的判断来确定p是xp的左节点还是右节点；也就是当前红黑树根节点的左边还是右边&lt;/span&gt;&lt;br&gt;&lt;span style=&quot;&quot; class=&quot;code-block-extension-codeLine&quot; data-line-num=&quot;49&quot;&gt;如果插入的是右边就把 p.right赋给 p,插入左边就判断 p.left赋给 p ,并判断&lt;span class=&quot;hljs-attr&quot;&gt;p&lt;/span&gt; == null? &lt;/span&gt;&lt;br&gt;&lt;span style=&quot;&quot; class=&quot;code-block-extension-codeLine&quot; data-line-num=&quot;50&quot;&gt;如果p != null,则说明xp不是叶子节点，则继续循环，向下寻找节点插入。&lt;/span&gt;&lt;br&gt;&lt;span style=&quot;&quot; class=&quot;code-block-extension-codeLine&quot; data-line-num=&quot;51&quot;&gt;如果 &lt;span style=&quot;&quot; class=&quot;hljs-attr&quot;&gt;p&lt;/span&gt;==null ,就说明xp是一个叶子节点，则把x.parent置为 xp,然后根据 dir大小判断是x置为xp的左子节点还是右子节点。&lt;/span&gt;&lt;/font&gt;&lt;/div&gt;&lt;/div&gt;" link="&lt;div&gt;&lt;div&gt;&lt;span class=&quot;code-block-extension-codeLine&quot; data-line-num=&quot;47&quot;&gt; // 这里判断dir &amp;lt;= 0 时 说明他会被插入到 当前红黑树节点的左边（不一定是左子节点，&lt;/span&gt;&#xa;&lt;span class=&quot;code-block-extension-codeLine&quot; data-line-num=&quot;48&quot;&gt;                //只要在这个节点的左半边就行），同理 dir&amp;gt;0 表示它在当前红黑树节点的右边。&lt;/span&gt;&#xa;&lt;span class=&quot;code-block-extension-codeLine&quot; data-line-num=&quot;49&quot;&gt;                // 如果插入的是右边就把 p.right赋给 p,插入左边就判断 p.left赋给 p ,并判断&lt;span class=&quot;hljs-attr&quot;&gt;p&lt;/span&gt; == null? &lt;/span&gt;&#xa;&lt;span class=&quot;code-block-extension-codeLine&quot; data-line-num=&quot;50&quot;&gt;                // 如果p != null,则说明xp不是叶子节点，则继续循环，向下寻找节点插入。&lt;/span&gt;&#xa;&lt;span class=&quot;code-block-extension-codeLine&quot; data-line-num=&quot;51&quot;&gt;                // 如果 &lt;span class=&quot;hljs-attr&quot;&gt;p&lt;/span&gt;==null ,就说明xp是一个叶子节点，则把x.parent置为 xp,然后根据 dir大小判断是x置为xp的左子节点还是右子节点。&lt;/span&gt;&lt;/div&gt;&lt;br&gt;&lt;div&gt;作者：樽酒435&lt;br&gt;链接：https://juejin.cn/post/7037031233812955144&lt;br&gt;来源：稀土掘金&lt;br&gt;著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。&lt;/div&gt;&lt;/div&gt;" id="onKNXoKgGcAeMGmnEdmf-292">
          <mxCell style="text;whiteSpace=wrap;html=1;" parent="1" vertex="1">
            <mxGeometry x="-651" y="2003" width="560" height="180" as="geometry" />
          </mxCell>
        </UserObject>
        <mxCell id="onKNXoKgGcAeMGmnEdmf-293" value="" style="shape=flexArrow;endArrow=classic;html=1;rounded=0;entryX=0.983;entryY=0.361;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" target="onKNXoKgGcAeMGmnEdmf-123" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-580" y="1060" as="sourcePoint" />
            <mxPoint x="-640" y="1060.93" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="onKNXoKgGcAeMGmnEdmf-294" value="入口，从这里开始看" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontSize=32;fontColor=#FF3333;" parent="1" vertex="1">
          <mxGeometry x="-110" y="110" width="310" height="50" as="geometry" />
        </mxCell>
        <mxCell id="onKNXoKgGcAeMGmnEdmf-295" value="&lt;font style=&quot;font-size: 12px;&quot; color=&quot;#ffffff&quot;&gt;链表重组&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontSize=12;" parent="1" vertex="1">
          <mxGeometry x="1161" y="823.5" width="70" height="30" as="geometry" />
        </mxCell>
        <mxCell id="onKNXoKgGcAeMGmnEdmf-296" value="" style="endArrow=classic;html=1;rounded=0;strokeColor=#FFFFFF;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1170" y="837.87" as="sourcePoint" />
            <mxPoint x="1090" y="837.87" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="AkrwQzVMCrjtAvMQB0j2-2" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="AkrwQzVMCrjtAvMQB0j2-1" target="onKNXoKgGcAeMGmnEdmf-105">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="AkrwQzVMCrjtAvMQB0j2-1" value="&lt;font color=&quot;#ffffff&quot;&gt;&lt;span style=&quot;font-size: 6px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;将x 与p(root) 进行hash比较，如果这里遇到了hash冲突&lt;/span&gt;&lt;/font&gt;&lt;div&gt;&lt;font color=&quot;#ffffff&quot;&gt;&lt;span style=&quot;font-size: 6px;&quot;&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;则调用&amp;nbsp; compareTo 继续比较得出dir 的值&amp;nbsp; &amp;nbsp;---------------&amp;gt;&lt;br&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;然后根据dir的值来判断将x放在左节点还是右节点&lt;/span&gt;&lt;/font&gt;&lt;/div&gt;" style="strokeWidth=0.5;html=1;shape=mxgraph.flowchart.annotation_1;align=left;pointerEvents=1;strokeColor=#FFFFFF;direction=west;" vertex="1" parent="1">
          <mxGeometry x="-257" y="1157" width="10" height="145" as="geometry" />
        </mxCell>
        <mxCell id="AkrwQzVMCrjtAvMQB0j2-5" value="&lt;font color=&quot;#ffffff&quot;&gt;&lt;span style=&quot;font-size: 6px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; dir&amp;lt;0，x 放在xp左节点&lt;/span&gt;&lt;/font&gt;&lt;div&gt;&lt;font color=&quot;#ffffff&quot;&gt;&lt;span style=&quot;font-size: 6px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; dir&amp;gt;0，x放在xp右节点&lt;/span&gt;&lt;/font&gt;&lt;/div&gt;" style="strokeWidth=0.5;html=1;shape=mxgraph.flowchart.annotation_1;align=left;pointerEvents=1;strokeColor=#FFFFFF;direction=west;" vertex="1" parent="1">
          <mxGeometry x="-257" y="1310" width="10" height="60" as="geometry" />
        </mxCell>
        <mxCell id="AkrwQzVMCrjtAvMQB0j2-7" value="&lt;pre style=&quot;color: rgb(187, 187, 187); font-size: 6px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: left; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial;&quot;&gt;&lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic; font-size: 6px;&quot;&gt;static int &lt;/span&gt;&lt;span style=&quot;color: rgb(97, 175, 239); font-size: 6px;&quot;&gt;tieBreakOrder&lt;/span&gt;(&lt;span style=&quot;color: rgb(229, 192, 123); font-size: 6px;&quot;&gt;Object &lt;/span&gt;&lt;span style=&quot;color: rgb(209, 154, 102); font-size: 6px;&quot;&gt;a&lt;/span&gt;, &lt;span style=&quot;color: rgb(229, 192, 123); font-size: 6px;&quot;&gt;Object &lt;/span&gt;&lt;span style=&quot;color: rgb(209, 154, 102); font-size: 6px;&quot;&gt;b&lt;/span&gt;) {&lt;br style=&quot;font-size: 6px;&quot;&gt;    &lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic; font-size: 6px;&quot;&gt;int &lt;/span&gt;d;&lt;br style=&quot;font-size: 6px;&quot;&gt;    &lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic; font-size: 6px;&quot;&gt;if &lt;/span&gt;(&lt;span style=&quot;color: rgb(209, 154, 102); font-size: 6px;&quot;&gt;a &lt;/span&gt;== &lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic; font-size: 6px;&quot;&gt;null &lt;/span&gt;|| &lt;span style=&quot;color: rgb(209, 154, 102); font-size: 6px;&quot;&gt;b &lt;/span&gt;== &lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic; font-size: 6px;&quot;&gt;null &lt;/span&gt;||&lt;br style=&quot;font-size: 6px;&quot;&gt;        (d = &lt;span style=&quot;color: rgb(209, 154, 102); font-size: 6px;&quot;&gt;a&lt;/span&gt;.&lt;span style=&quot;color: rgb(97, 175, 239); font-size: 6px;&quot;&gt;getClass&lt;/span&gt;().&lt;span style=&quot;color: rgb(97, 175, 239); font-size: 6px;&quot;&gt;getName&lt;/span&gt;().&lt;br style=&quot;font-size: 6px;&quot;&gt;         &lt;span style=&quot;color: rgb(97, 175, 239); font-size: 6px;&quot;&gt;compareTo&lt;/span&gt;(&lt;span style=&quot;color: rgb(209, 154, 102); font-size: 6px;&quot;&gt;b&lt;/span&gt;.&lt;span style=&quot;color: rgb(97, 175, 239); font-size: 6px;&quot;&gt;getClass&lt;/span&gt;().&lt;span style=&quot;color: rgb(97, 175, 239); font-size: 6px;&quot;&gt;getName&lt;/span&gt;())) == &lt;span style=&quot;color: rgb(209, 154, 102); font-size: 6px;&quot;&gt;0&lt;/span&gt;)&lt;br style=&quot;font-size: 6px;&quot;&gt;        d = (&lt;span style=&quot;color: rgb(229, 192, 123); font-size: 6px;&quot;&gt;System&lt;/span&gt;.&lt;span style=&quot;color: rgb(97, 175, 239); font-size: 6px;&quot;&gt;identityHashCode&lt;/span&gt;(&lt;span style=&quot;color: rgb(209, 154, 102); font-size: 6px;&quot;&gt;a&lt;/span&gt;) &amp;lt;= &lt;span style=&quot;color: rgb(229, 192, 123); font-size: 6px;&quot;&gt;System&lt;/span&gt;.&lt;span style=&quot;color: rgb(97, 175, 239); font-size: 6px;&quot;&gt;identityHashCode&lt;/span&gt;(&lt;span style=&quot;color: rgb(209, 154, 102); font-size: 6px;&quot;&gt;b&lt;/span&gt;) ?&lt;br style=&quot;font-size: 6px;&quot;&gt;             -&lt;span style=&quot;color: rgb(209, 154, 102); font-size: 6px;&quot;&gt;1 &lt;/span&gt;: &lt;span style=&quot;color: rgb(209, 154, 102); font-size: 6px;&quot;&gt;1&lt;/span&gt;);&lt;br style=&quot;font-size: 6px;&quot;&gt;    &lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic; font-size: 6px;&quot;&gt;return &lt;/span&gt;d;&lt;br style=&quot;font-size: 6px;&quot;&gt;}&lt;/pre&gt;" style="text;whiteSpace=wrap;html=1;fontSize=6;fillColor=#000000;" vertex="1" parent="1">
          <mxGeometry x="-92" y="1216" width="260" height="80" as="geometry" />
        </mxCell>
        <mxCell id="AkrwQzVMCrjtAvMQB0j2-9" value="&lt;pre style=&quot;color: rgb(187, 187, 187); font-size: 8px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: left; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial;&quot;&gt;&lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic; font-size: 8px;&quot;&gt;static &lt;/span&gt;&amp;lt;&lt;span style=&quot;color: rgb(229, 192, 123); font-size: 8px;&quot;&gt;K&lt;/span&gt;,&lt;span style=&quot;color: rgb(229, 192, 123); font-size: 8px;&quot;&gt;V&lt;/span&gt;&amp;gt; &lt;span style=&quot;color: rgb(229, 192, 123); font-size: 8px;&quot;&gt;TreeNode&lt;/span&gt;&amp;lt;&lt;span style=&quot;color: rgb(229, 192, 123); font-size: 8px;&quot;&gt;K&lt;/span&gt;,&lt;span style=&quot;color: rgb(229, 192, 123); font-size: 8px;&quot;&gt;V&lt;/span&gt;&amp;gt; &lt;span style=&quot;color: rgb(97, 175, 239); font-size: 8px;&quot;&gt;balanceInsertion&lt;/span&gt;(&lt;span style=&quot;color: rgb(229, 192, 123); font-size: 8px;&quot;&gt;TreeNode&lt;/span&gt;&amp;lt;&lt;span style=&quot;color: rgb(229, 192, 123); font-size: 8px;&quot;&gt;K&lt;/span&gt;,&lt;span style=&quot;color: rgb(229, 192, 123); font-size: 8px;&quot;&gt;V&lt;/span&gt;&amp;gt; &lt;span style=&quot;color: rgb(209, 154, 102); font-size: 8px;&quot;&gt;root&lt;/span&gt;,&lt;br style=&quot;font-size: 8px;&quot;&gt;                                            &lt;span style=&quot;color: rgb(229, 192, 123); font-size: 8px;&quot;&gt;TreeNode&lt;/span&gt;&amp;lt;&lt;span style=&quot;color: rgb(229, 192, 123); font-size: 8px;&quot;&gt;K&lt;/span&gt;,&lt;span style=&quot;color: rgb(229, 192, 123); font-size: 8px;&quot;&gt;V&lt;/span&gt;&amp;gt; &lt;span style=&quot;color: rgb(209, 154, 102); font-size: 8px;&quot;&gt;x&lt;/span&gt;) {&lt;br style=&quot;font-size: 8px;&quot;&gt;    &lt;span style=&quot;color: rgb(209, 154, 102); font-size: 8px;&quot;&gt;x&lt;/span&gt;.&lt;span style=&quot;color: rgb(239, 89, 111); font-size: 8px;&quot;&gt;red &lt;/span&gt;= &lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic; font-size: 8px;&quot;&gt;true&lt;/span&gt;;&lt;br style=&quot;font-size: 8px;&quot;&gt;    &lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic; font-size: 8px;&quot;&gt;for &lt;/span&gt;(&lt;span style=&quot;color: rgb(229, 192, 123); font-size: 8px;&quot;&gt;TreeNode&lt;/span&gt;&amp;lt;&lt;span style=&quot;color: rgb(229, 192, 123); font-size: 8px;&quot;&gt;K&lt;/span&gt;,&lt;span style=&quot;color: rgb(229, 192, 123); font-size: 8px;&quot;&gt;V&lt;/span&gt;&amp;gt; xp, xpp, xppl, xppr;;) {&lt;br style=&quot;font-size: 8px;&quot;&gt;        &lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic; font-size: 8px;&quot;&gt;if &lt;/span&gt;((xp = &lt;span style=&quot;color: rgb(209, 154, 102); font-size: 8px;&quot;&gt;x&lt;/span&gt;.&lt;span style=&quot;color: rgb(239, 89, 111); font-size: 8px;&quot;&gt;parent&lt;/span&gt;) == &lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic; font-size: 8px;&quot;&gt;null&lt;/span&gt;) {&lt;br style=&quot;font-size: 8px;&quot;&gt;            &lt;span style=&quot;color: rgb(209, 154, 102); font-size: 8px;&quot;&gt;x&lt;/span&gt;.&lt;span style=&quot;color: rgb(239, 89, 111); font-size: 8px;&quot;&gt;red &lt;/span&gt;= &lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic; font-size: 8px;&quot;&gt;false&lt;/span&gt;;&lt;br style=&quot;font-size: 8px;&quot;&gt;            &lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic; font-size: 8px;&quot;&gt;return &lt;/span&gt;&lt;span style=&quot;color: rgb(209, 154, 102); font-size: 8px;&quot;&gt;x&lt;/span&gt;;&lt;br style=&quot;font-size: 8px;&quot;&gt;        }&lt;br style=&quot;font-size: 8px;&quot;&gt;        &lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic; font-size: 8px;&quot;&gt;else if &lt;/span&gt;(!xp.&lt;span style=&quot;color: rgb(239, 89, 111); font-size: 8px;&quot;&gt;red &lt;/span&gt;|| (xpp = xp.&lt;span style=&quot;color: rgb(239, 89, 111); font-size: 8px;&quot;&gt;parent&lt;/span&gt;) == &lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic; font-size: 8px;&quot;&gt;null&lt;/span&gt;)&lt;br style=&quot;font-size: 8px;&quot;&gt;            &lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic; font-size: 8px;&quot;&gt;return &lt;/span&gt;&lt;span style=&quot;color: rgb(209, 154, 102); font-size: 8px;&quot;&gt;root&lt;/span&gt;;&lt;br style=&quot;font-size: 8px;&quot;&gt;        &lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic; font-size: 8px;&quot;&gt;if &lt;/span&gt;(xp == (xppl = xpp.&lt;span style=&quot;color: rgb(239, 89, 111); font-size: 8px;&quot;&gt;left&lt;/span&gt;)) {&lt;br style=&quot;font-size: 8px;&quot;&gt;            &lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic; font-size: 8px;&quot;&gt;if &lt;/span&gt;((xppr = xpp.&lt;span style=&quot;color: rgb(239, 89, 111); font-size: 8px;&quot;&gt;right&lt;/span&gt;) != &lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic; font-size: 8px;&quot;&gt;null &lt;/span&gt;&amp;amp;&amp;amp; xppr.&lt;span style=&quot;color: rgb(239, 89, 111); font-size: 8px;&quot;&gt;red&lt;/span&gt;) {&lt;br style=&quot;font-size: 8px;&quot;&gt;                xppr.&lt;span style=&quot;color: rgb(239, 89, 111); font-size: 8px;&quot;&gt;red &lt;/span&gt;= &lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic; font-size: 8px;&quot;&gt;false&lt;/span&gt;;&lt;br style=&quot;font-size: 8px;&quot;&gt;                xp.&lt;span style=&quot;color: rgb(239, 89, 111); font-size: 8px;&quot;&gt;red &lt;/span&gt;= &lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic; font-size: 8px;&quot;&gt;false&lt;/span&gt;;&lt;br style=&quot;font-size: 8px;&quot;&gt;                xpp.&lt;span style=&quot;color: rgb(239, 89, 111); font-size: 8px;&quot;&gt;red &lt;/span&gt;= &lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic; font-size: 8px;&quot;&gt;true&lt;/span&gt;;&lt;br style=&quot;font-size: 8px;&quot;&gt;                &lt;span style=&quot;color: rgb(209, 154, 102); font-size: 8px;&quot;&gt;x &lt;/span&gt;= xpp;&lt;br style=&quot;font-size: 8px;&quot;&gt;            }&lt;br style=&quot;font-size: 8px;&quot;&gt;            &lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic; font-size: 8px;&quot;&gt;else &lt;/span&gt;{&lt;br style=&quot;font-size: 8px;&quot;&gt;                &lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic; font-size: 8px;&quot;&gt;if &lt;/span&gt;(&lt;span style=&quot;color: rgb(209, 154, 102); font-size: 8px;&quot;&gt;x &lt;/span&gt;== xp.&lt;span style=&quot;color: rgb(239, 89, 111); font-size: 8px;&quot;&gt;right&lt;/span&gt;) {&lt;br style=&quot;font-size: 8px;&quot;&gt;                    &lt;span style=&quot;color: rgb(209, 154, 102); font-size: 8px;&quot;&gt;root &lt;/span&gt;= &lt;span style=&quot;color: rgb(97, 175, 239); font-size: 8px;&quot;&gt;rotateLeft&lt;/span&gt;(&lt;span style=&quot;color: rgb(209, 154, 102); font-size: 8px;&quot;&gt;root&lt;/span&gt;, &lt;span style=&quot;color: rgb(209, 154, 102); font-size: 8px;&quot;&gt;x &lt;/span&gt;= xp);&lt;br style=&quot;font-size: 8px;&quot;&gt;                    xpp = (xp = &lt;span style=&quot;color: rgb(209, 154, 102); font-size: 8px;&quot;&gt;x&lt;/span&gt;.&lt;span style=&quot;color: rgb(239, 89, 111); font-size: 8px;&quot;&gt;parent&lt;/span&gt;) == &lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic; font-size: 8px;&quot;&gt;null &lt;/span&gt;? &lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic; font-size: 8px;&quot;&gt;null &lt;/span&gt;: xp.&lt;span style=&quot;color: rgb(239, 89, 111); font-size: 8px;&quot;&gt;parent&lt;/span&gt;;&lt;br style=&quot;font-size: 8px;&quot;&gt;                }&lt;br style=&quot;font-size: 8px;&quot;&gt;                &lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic; font-size: 8px;&quot;&gt;if &lt;/span&gt;(xp != &lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic; font-size: 8px;&quot;&gt;null&lt;/span&gt;) {&lt;br style=&quot;font-size: 8px;&quot;&gt;                    xp.&lt;span style=&quot;color: rgb(239, 89, 111); font-size: 8px;&quot;&gt;red &lt;/span&gt;= &lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic; font-size: 8px;&quot;&gt;false&lt;/span&gt;;&lt;br style=&quot;font-size: 8px;&quot;&gt;                    &lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic; font-size: 8px;&quot;&gt;if &lt;/span&gt;(xpp != &lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic; font-size: 8px;&quot;&gt;null&lt;/span&gt;) {&lt;br style=&quot;font-size: 8px;&quot;&gt;                        xpp.&lt;span style=&quot;color: rgb(239, 89, 111); font-size: 8px;&quot;&gt;red &lt;/span&gt;= &lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic; font-size: 8px;&quot;&gt;true&lt;/span&gt;;&lt;br style=&quot;font-size: 8px;&quot;&gt;                        &lt;span style=&quot;color: rgb(209, 154, 102); font-size: 8px;&quot;&gt;root &lt;/span&gt;= &lt;span style=&quot;color: rgb(97, 175, 239); font-size: 8px;&quot;&gt;rotateRight&lt;/span&gt;(&lt;span style=&quot;color: rgb(209, 154, 102); font-size: 8px;&quot;&gt;root&lt;/span&gt;, xpp);&lt;br style=&quot;font-size: 8px;&quot;&gt;                    }&lt;br style=&quot;font-size: 8px;&quot;&gt;                }&lt;br style=&quot;font-size: 8px;&quot;&gt;            }&lt;br style=&quot;font-size: 8px;&quot;&gt;        }&lt;br style=&quot;font-size: 8px;&quot;&gt;        &lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic; font-size: 8px;&quot;&gt;else &lt;/span&gt;{&lt;br style=&quot;font-size: 8px;&quot;&gt;            &lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic; font-size: 8px;&quot;&gt;if &lt;/span&gt;(xppl != &lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic; font-size: 8px;&quot;&gt;null &lt;/span&gt;&amp;amp;&amp;amp; xppl.&lt;span style=&quot;color: rgb(239, 89, 111); font-size: 8px;&quot;&gt;red&lt;/span&gt;) {&lt;br style=&quot;font-size: 8px;&quot;&gt;                xppl.&lt;span style=&quot;color: rgb(239, 89, 111); font-size: 8px;&quot;&gt;red &lt;/span&gt;= &lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic; font-size: 8px;&quot;&gt;false&lt;/span&gt;;&lt;br style=&quot;font-size: 8px;&quot;&gt;                xp.&lt;span style=&quot;color: rgb(239, 89, 111); font-size: 8px;&quot;&gt;red &lt;/span&gt;= &lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic; font-size: 8px;&quot;&gt;false&lt;/span&gt;;&lt;br style=&quot;font-size: 8px;&quot;&gt;                xpp.&lt;span style=&quot;color: rgb(239, 89, 111); font-size: 8px;&quot;&gt;red &lt;/span&gt;= &lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic; font-size: 8px;&quot;&gt;true&lt;/span&gt;;&lt;br style=&quot;font-size: 8px;&quot;&gt;                &lt;span style=&quot;color: rgb(209, 154, 102); font-size: 8px;&quot;&gt;x &lt;/span&gt;= xpp;&lt;br style=&quot;font-size: 8px;&quot;&gt;            }&lt;br style=&quot;font-size: 8px;&quot;&gt;            &lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic; font-size: 8px;&quot;&gt;else &lt;/span&gt;{&lt;br style=&quot;font-size: 8px;&quot;&gt;                &lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic; font-size: 8px;&quot;&gt;if &lt;/span&gt;(&lt;span style=&quot;color: rgb(209, 154, 102); font-size: 8px;&quot;&gt;x &lt;/span&gt;== xp.&lt;span style=&quot;color: rgb(239, 89, 111); font-size: 8px;&quot;&gt;left&lt;/span&gt;) {&lt;br style=&quot;font-size: 8px;&quot;&gt;                    &lt;span style=&quot;color: rgb(209, 154, 102); font-size: 8px;&quot;&gt;root &lt;/span&gt;= &lt;span style=&quot;color: rgb(97, 175, 239); font-size: 8px;&quot;&gt;rotateRight&lt;/span&gt;(&lt;span style=&quot;color: rgb(209, 154, 102); font-size: 8px;&quot;&gt;root&lt;/span&gt;, &lt;span style=&quot;color: rgb(209, 154, 102); font-size: 8px;&quot;&gt;x &lt;/span&gt;= xp);&lt;br style=&quot;font-size: 8px;&quot;&gt;                    xpp = (xp = &lt;span style=&quot;color: rgb(209, 154, 102); font-size: 8px;&quot;&gt;x&lt;/span&gt;.&lt;span style=&quot;color: rgb(239, 89, 111); font-size: 8px;&quot;&gt;parent&lt;/span&gt;) == &lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic; font-size: 8px;&quot;&gt;null &lt;/span&gt;? &lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic; font-size: 8px;&quot;&gt;null &lt;/span&gt;: xp.&lt;span style=&quot;color: rgb(239, 89, 111); font-size: 8px;&quot;&gt;parent&lt;/span&gt;;&lt;br style=&quot;font-size: 8px;&quot;&gt;                }&lt;br style=&quot;font-size: 8px;&quot;&gt;                &lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic; font-size: 8px;&quot;&gt;if &lt;/span&gt;(xp != &lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic; font-size: 8px;&quot;&gt;null&lt;/span&gt;) {&lt;br style=&quot;font-size: 8px;&quot;&gt;                    xp.&lt;span style=&quot;color: rgb(239, 89, 111); font-size: 8px;&quot;&gt;red &lt;/span&gt;= &lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic; font-size: 8px;&quot;&gt;false&lt;/span&gt;;&lt;br style=&quot;font-size: 8px;&quot;&gt;                    &lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic; font-size: 8px;&quot;&gt;if &lt;/span&gt;(xpp != &lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic; font-size: 8px;&quot;&gt;null&lt;/span&gt;) {&lt;br style=&quot;font-size: 8px;&quot;&gt;                        xpp.&lt;span style=&quot;color: rgb(239, 89, 111); font-size: 8px;&quot;&gt;red &lt;/span&gt;= &lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic; font-size: 8px;&quot;&gt;true&lt;/span&gt;;&lt;br style=&quot;font-size: 8px;&quot;&gt;                        &lt;span style=&quot;color: rgb(209, 154, 102); font-size: 8px;&quot;&gt;root &lt;/span&gt;= &lt;span style=&quot;color: rgb(97, 175, 239); font-size: 8px;&quot;&gt;rotateLeft&lt;/span&gt;(&lt;span style=&quot;color: rgb(209, 154, 102); font-size: 8px;&quot;&gt;root&lt;/span&gt;, xpp);&lt;br style=&quot;font-size: 8px;&quot;&gt;                    }&lt;br style=&quot;font-size: 8px;&quot;&gt;                }&lt;br style=&quot;font-size: 8px;&quot;&gt;            }&lt;br style=&quot;font-size: 8px;&quot;&gt;        }&lt;br style=&quot;font-size: 8px;&quot;&gt;    }&lt;br style=&quot;font-size: 8px;&quot;&gt;}&lt;/pre&gt;" style="text;whiteSpace=wrap;html=1;fontSize=8;fillColor=#000000;" vertex="1" parent="1">
          <mxGeometry x="-100" y="1356.5" width="370" height="534.5" as="geometry" />
        </mxCell>
        <mxCell id="AkrwQzVMCrjtAvMQB0j2-10" value="" style="endArrow=classic;html=1;rounded=0;strokeColor=#FFFFFF;" edge="1" parent="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-320" y="1376" as="sourcePoint" />
            <mxPoint x="-100" y="1375.5" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="AkrwQzVMCrjtAvMQB0j2-11" value="插入元素后，重新平衡红黑树" style="edgeLabel;resizable=0;html=1;;align=center;verticalAlign=middle;labelBackgroundColor=#000000;fontColor=#FFFFFF;" connectable="0" vertex="1" parent="AkrwQzVMCrjtAvMQB0j2-10">
          <mxGeometry relative="1" as="geometry">
            <mxPoint y="1" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="AkrwQzVMCrjtAvMQB0j2-14" value="&lt;font color=&quot;#ffffff&quot; style=&quot;font-size: 8px;&quot;&gt;//所有节点默认插入为红色&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontSize=8;" vertex="1" parent="1">
          <mxGeometry x="-19" y="1387" width="120" height="20" as="geometry" />
        </mxCell>
        <mxCell id="AkrwQzVMCrjtAvMQB0j2-15" value="" style="shape=curlyBracket;whiteSpace=wrap;html=1;rounded=1;flipH=1;labelPosition=right;verticalLabelPosition=middle;align=left;verticalAlign=middle;fontColor=#FFFFFF;strokeColor=#FFFFFF;" vertex="1" parent="1">
          <mxGeometry x="90" y="1410" width="10" height="30" as="geometry" />
        </mxCell>
        <mxCell id="AkrwQzVMCrjtAvMQB0j2-19" value="&lt;span class=&quot;hljs-attr&quot; style=&quot;font-family: Menlo, Monaco, Consolas, &amp;quot;Courier New&amp;quot;, monospace; font-size: 8px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; white-space: pre; text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial;&quot;&gt;x.parent&lt;/span&gt;&lt;span style=&quot;font-family: Menlo, Monaco, Consolas, &amp;quot;Courier New&amp;quot;, monospace; font-size: 8px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; white-space: pre; text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial; float: none; display: inline !important;&quot;&gt; == null，为跟节点，置黑即可&lt;/span&gt;" style="text;whiteSpace=wrap;html=1;fontSize=8;fontColor=#FFFFFF;labelBackgroundColor=none;" vertex="1" parent="1">
          <mxGeometry x="101" y="1414" width="169" height="30" as="geometry" />
        </mxCell>
        <mxCell id="AkrwQzVMCrjtAvMQB0j2-20" value="&lt;span style=&quot;font-family: Menlo, Monaco, Consolas, &amp;quot;Courier New&amp;quot;, monospace; font-size: 8px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; white-space: pre; text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial; float: none; display: inline !important;&quot;&gt;x 父节点为黑色，或者x的祖&lt;br/&gt;父节点为空，直接插入返回&lt;/span&gt;" style="text;whiteSpace=wrap;html=1;labelBackgroundColor=#000000;fontSize=8;fontColor=#FFFFFF;" vertex="1" parent="1">
          <mxGeometry x="165" y="1441" width="105" height="29" as="geometry" />
        </mxCell>
        <mxCell id="AkrwQzVMCrjtAvMQB0j2-21" value="&lt;span style=&quot;background-color: initial;&quot;&gt;x&lt;/span&gt;&lt;div&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;的父节点是祖父节点的左节点&lt;/span&gt;&lt;/div&gt;" style="shape=curlyBracket;whiteSpace=wrap;html=1;rounded=1;labelPosition=left;verticalLabelPosition=middle;align=right;verticalAlign=middle;strokeColor=#FFFFFF;fontSize=7;fontColor=#FF6666;" vertex="1" parent="1">
          <mxGeometry x="-68" y="1469" width="10" height="198" as="geometry" />
        </mxCell>
        <mxCell id="AkrwQzVMCrjtAvMQB0j2-22" value="&lt;font style=&quot;font-size: 7px;&quot;&gt;x&lt;/font&gt;&lt;div&gt;&lt;font style=&quot;font-size: 7px;&quot;&gt;的父节 点&lt;/font&gt;&lt;div style=&quot;font-size: 7px;&quot;&gt;&lt;font style=&quot;font-size: 7px;&quot;&gt;为红&lt;/font&gt;&lt;/div&gt;&lt;/div&gt;" style="shape=curlyBracket;whiteSpace=wrap;html=1;rounded=1;labelPosition=left;verticalLabelPosition=middle;align=right;verticalAlign=middle;strokeColor=#FFFFFF;fontSize=7;fontColor=#FF6666;" vertex="1" parent="1">
          <mxGeometry x="-85" y="1468" width="10" height="391" as="geometry" />
        </mxCell>
        <mxCell id="AkrwQzVMCrjtAvMQB0j2-23" value="&lt;span style=&quot;background-color: initial;&quot;&gt;x&lt;/span&gt;&lt;div&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;的父节点是祖父节点的右节点&lt;/span&gt;&lt;/div&gt;" style="shape=curlyBracket;whiteSpace=wrap;html=1;rounded=1;labelPosition=left;verticalLabelPosition=middle;align=right;verticalAlign=middle;strokeColor=#FFFFFF;fontSize=7;fontColor=#FF6666;" vertex="1" parent="1">
          <mxGeometry x="-66" y="1670" width="10" height="190" as="geometry" />
        </mxCell>
        <mxCell id="AkrwQzVMCrjtAvMQB0j2-24" value="&lt;span style=&quot;font-family: Menlo, Monaco, Consolas, &amp;quot;Courier New&amp;quot;, monospace; font-size: 8px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; white-space: pre; text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial;&quot; data-line-num=&quot;22&quot; class=&quot;code-block-extension-codeLine&quot;&gt;x的叔父节点存在，且为红色，颜色交换即可&lt;/span&gt;&lt;div&gt;&lt;span style=&quot;font-family: Menlo, Monaco, Consolas, &amp;quot;Courier New&amp;quot;, monospace; font-size: 8px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; white-space: pre; text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial; float: none; display: inline !important;&quot;&gt;&lt;br style=&quot;font-size: 8px;&quot;&gt;&lt;/span&gt;&lt;span style=&quot;font-family: Menlo, Monaco, Consolas, &amp;quot;Courier New&amp;quot;, monospace; font-size: 8px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; white-space: pre; text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial;&quot; data-line-num=&quot;23&quot; class=&quot;code-block-extension-codeLine&quot;&gt;x的父节点、叔父节点变为黑色，祖父节点变为红色&lt;/span&gt;&lt;/div&gt;" style="text;whiteSpace=wrap;html=1;labelBackgroundColor=none;fontColor=#FF3333;fontSize=8;" vertex="1" parent="1">
          <mxGeometry x="70" y="1482.5" width="140" height="30" as="geometry" />
        </mxCell>
        <mxCell id="AkrwQzVMCrjtAvMQB0j2-25" value="&lt;span class=&quot;code-block-extension-codeLine&quot; data-line-num=&quot;33&quot; style=&quot;font-family: Menlo, Monaco, Consolas, &amp;quot;Courier New&amp;quot;, monospace; font-size: 8px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; white-space: pre; text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial;&quot;&gt;x 为 其父节点的右子节点，则为内侧插入&lt;/span&gt;&lt;span style=&quot;font-family: Menlo, Monaco, Consolas, &amp;quot;Courier New&amp;quot;, monospace; font-size: 8px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; white-space: pre; text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial; float: none; display: inline !important;&quot;&gt;&lt;br style=&quot;font-size: 8px;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;code-block-extension-codeLine&quot; data-line-num=&quot;34&quot; style=&quot;font-family: Menlo, Monaco, Consolas, &amp;quot;Courier New&amp;quot;, monospace; font-size: 8px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; white-space: pre; text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial;&quot;&gt;则先左旋，然后右旋&lt;/span&gt;" style="text;whiteSpace=wrap;html=1;labelBackgroundColor=none;fontSize=8;fontColor=#FF3333;" vertex="1" parent="1">
          <mxGeometry x="76" y="1528" width="160" height="30" as="geometry" />
        </mxCell>
        <mxCell id="AkrwQzVMCrjtAvMQB0j2-29" value="&lt;pre style=&quot;color: rgb(187, 187, 187); font-size: 6px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: left; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial;&quot;&gt;&lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic; font-size: 6px;&quot;&gt;static &lt;/span&gt;&amp;lt;&lt;span style=&quot;color: rgb(229, 192, 123); font-size: 6px;&quot;&gt;K&lt;/span&gt;,&lt;span style=&quot;color: rgb(229, 192, 123); font-size: 6px;&quot;&gt;V&lt;/span&gt;&amp;gt; &lt;span style=&quot;color: rgb(229, 192, 123); font-size: 6px;&quot;&gt;TreeNode&lt;/span&gt;&amp;lt;&lt;span style=&quot;color: rgb(229, 192, 123); font-size: 6px;&quot;&gt;K&lt;/span&gt;,&lt;span style=&quot;color: rgb(229, 192, 123); font-size: 6px;&quot;&gt;V&lt;/span&gt;&amp;gt; &lt;span style=&quot;color: rgb(97, 175, 239); font-size: 6px;&quot;&gt;rotateRight&lt;/span&gt;(&lt;span style=&quot;color: rgb(229, 192, 123); font-size: 6px;&quot;&gt;TreeNode&lt;/span&gt;&amp;lt;&lt;span style=&quot;color: rgb(229, 192, 123); font-size: 6px;&quot;&gt;K&lt;/span&gt;,&lt;span style=&quot;color: rgb(229, 192, 123); font-size: 6px;&quot;&gt;V&lt;/span&gt;&amp;gt; &lt;span style=&quot;color: rgb(209, 154, 102); font-size: 6px;&quot;&gt;root&lt;/span&gt;,&lt;br style=&quot;font-size: 6px;&quot;&gt;                                       &lt;span style=&quot;color: rgb(229, 192, 123); font-size: 6px;&quot;&gt;TreeNode&lt;/span&gt;&amp;lt;&lt;span style=&quot;color: rgb(229, 192, 123); font-size: 6px;&quot;&gt;K&lt;/span&gt;,&lt;span style=&quot;color: rgb(229, 192, 123); font-size: 6px;&quot;&gt;V&lt;/span&gt;&amp;gt; &lt;span style=&quot;color: rgb(209, 154, 102); font-size: 6px;&quot;&gt;p&lt;/span&gt;) {&lt;br style=&quot;font-size: 6px;&quot;&gt;    &lt;span style=&quot;color: rgb(229, 192, 123); font-size: 6px;&quot;&gt;TreeNode&lt;/span&gt;&amp;lt;&lt;span style=&quot;color: rgb(229, 192, 123); font-size: 6px;&quot;&gt;K&lt;/span&gt;,&lt;span style=&quot;color: rgb(229, 192, 123); font-size: 6px;&quot;&gt;V&lt;/span&gt;&amp;gt; l, pp, lr;&lt;br style=&quot;font-size: 6px;&quot;&gt;    &lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic; font-size: 6px;&quot;&gt;if &lt;/span&gt;(&lt;span style=&quot;color: rgb(209, 154, 102); font-size: 6px;&quot;&gt;p &lt;/span&gt;!= &lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic; font-size: 6px;&quot;&gt;null &lt;/span&gt;&amp;amp;&amp;amp; (l = &lt;span style=&quot;color: rgb(209, 154, 102); font-size: 6px;&quot;&gt;p&lt;/span&gt;.&lt;span style=&quot;color: rgb(239, 89, 111); font-size: 6px;&quot;&gt;left&lt;/span&gt;) != &lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic; font-size: 6px;&quot;&gt;null&lt;/span&gt;) {&lt;br style=&quot;font-size: 6px;&quot;&gt;        &lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic; font-size: 6px;&quot;&gt;if &lt;/span&gt;((lr = &lt;span style=&quot;color: rgb(209, 154, 102); font-size: 6px;&quot;&gt;p&lt;/span&gt;.&lt;span style=&quot;color: rgb(239, 89, 111); font-size: 6px;&quot;&gt;left &lt;/span&gt;= l.&lt;span style=&quot;color: rgb(239, 89, 111); font-size: 6px;&quot;&gt;right&lt;/span&gt;) != &lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic; font-size: 6px;&quot;&gt;null&lt;/span&gt;)&lt;br style=&quot;font-size: 6px;&quot;&gt;            lr.&lt;span style=&quot;color: rgb(239, 89, 111); font-size: 6px;&quot;&gt;parent &lt;/span&gt;= &lt;span style=&quot;color: rgb(209, 154, 102); font-size: 6px;&quot;&gt;p&lt;/span&gt;;&lt;br style=&quot;font-size: 6px;&quot;&gt;        &lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic; font-size: 6px;&quot;&gt;if &lt;/span&gt;((pp = l.&lt;span style=&quot;color: rgb(239, 89, 111); font-size: 6px;&quot;&gt;parent &lt;/span&gt;= &lt;span style=&quot;color: rgb(209, 154, 102); font-size: 6px;&quot;&gt;p&lt;/span&gt;.&lt;span style=&quot;color: rgb(239, 89, 111); font-size: 6px;&quot;&gt;parent&lt;/span&gt;) == &lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic; font-size: 6px;&quot;&gt;null&lt;/span&gt;)&lt;br style=&quot;font-size: 6px;&quot;&gt;            (&lt;span style=&quot;color: rgb(209, 154, 102); font-size: 6px;&quot;&gt;root &lt;/span&gt;= l).&lt;span style=&quot;color: rgb(239, 89, 111); font-size: 6px;&quot;&gt;red &lt;/span&gt;= &lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic; font-size: 6px;&quot;&gt;false&lt;/span&gt;;&lt;br style=&quot;font-size: 6px;&quot;&gt;        &lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic; font-size: 6px;&quot;&gt;else if &lt;/span&gt;(pp.&lt;span style=&quot;color: rgb(239, 89, 111); font-size: 6px;&quot;&gt;right &lt;/span&gt;== &lt;span style=&quot;color: rgb(209, 154, 102); font-size: 6px;&quot;&gt;p&lt;/span&gt;)&lt;br style=&quot;font-size: 6px;&quot;&gt;            pp.&lt;span style=&quot;color: rgb(239, 89, 111); font-size: 6px;&quot;&gt;right &lt;/span&gt;= l;&lt;br style=&quot;font-size: 6px;&quot;&gt;        &lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic; font-size: 6px;&quot;&gt;else&lt;br style=&quot;font-size: 6px;&quot;&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic; font-size: 6px;&quot;&gt;            &lt;/span&gt;pp.&lt;span style=&quot;color: rgb(239, 89, 111); font-size: 6px;&quot;&gt;left &lt;/span&gt;= l;&lt;br style=&quot;font-size: 6px;&quot;&gt;        l.&lt;span style=&quot;color: rgb(239, 89, 111); font-size: 6px;&quot;&gt;right &lt;/span&gt;= &lt;span style=&quot;color: rgb(209, 154, 102); font-size: 6px;&quot;&gt;p&lt;/span&gt;;&lt;br style=&quot;font-size: 6px;&quot;&gt;        &lt;span style=&quot;color: rgb(209, 154, 102); font-size: 6px;&quot;&gt;p&lt;/span&gt;.&lt;span style=&quot;color: rgb(239, 89, 111); font-size: 6px;&quot;&gt;parent &lt;/span&gt;= l;&lt;br style=&quot;font-size: 6px;&quot;&gt;    }&lt;br style=&quot;font-size: 6px;&quot;&gt;    &lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic; font-size: 6px;&quot;&gt;return &lt;/span&gt;&lt;span style=&quot;color: rgb(209, 154, 102); font-size: 6px;&quot;&gt;root&lt;/span&gt;;&lt;br style=&quot;font-size: 6px;&quot;&gt;}&lt;/pre&gt;" style="text;whiteSpace=wrap;html=1;fontSize=6;fillColor=#000000;" vertex="1" parent="1">
          <mxGeometry x="268" y="1623" width="231" height="147" as="geometry" />
        </mxCell>
        <mxCell id="AkrwQzVMCrjtAvMQB0j2-27" value="&lt;pre style=&quot;color: rgb(187, 187, 187); font-size: 6px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: left; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial;&quot;&gt;&lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic; font-size: 6px;&quot;&gt;static &lt;/span&gt;&amp;lt;&lt;span style=&quot;color: rgb(229, 192, 123); font-size: 6px;&quot;&gt;K&lt;/span&gt;,&lt;span style=&quot;color: rgb(229, 192, 123); font-size: 6px;&quot;&gt;V&lt;/span&gt;&amp;gt; &lt;span style=&quot;color: rgb(229, 192, 123); font-size: 6px;&quot;&gt;TreeNode&lt;/span&gt;&amp;lt;&lt;span style=&quot;color: rgb(229, 192, 123); font-size: 6px;&quot;&gt;K&lt;/span&gt;,&lt;span style=&quot;color: rgb(229, 192, 123); font-size: 6px;&quot;&gt;V&lt;/span&gt;&amp;gt; &lt;span style=&quot;color: rgb(97, 175, 239); font-size: 6px;&quot;&gt;rotateLeft&lt;/span&gt;(&lt;span style=&quot;color: rgb(229, 192, 123); font-size: 6px;&quot;&gt;TreeNode&lt;/span&gt;&amp;lt;&lt;span style=&quot;color: rgb(229, 192, 123); font-size: 6px;&quot;&gt;K&lt;/span&gt;,&lt;span style=&quot;color: rgb(229, 192, 123); font-size: 6px;&quot;&gt;V&lt;/span&gt;&amp;gt; &lt;span style=&quot;color: rgb(209, 154, 102); font-size: 6px;&quot;&gt;root&lt;/span&gt;,&lt;br style=&quot;font-size: 6px;&quot;&gt;                                      &lt;span style=&quot;color: rgb(229, 192, 123); font-size: 6px;&quot;&gt;TreeNode&lt;/span&gt;&amp;lt;&lt;span style=&quot;color: rgb(229, 192, 123); font-size: 6px;&quot;&gt;K&lt;/span&gt;,&lt;span style=&quot;color: rgb(229, 192, 123); font-size: 6px;&quot;&gt;V&lt;/span&gt;&amp;gt; &lt;span style=&quot;color: rgb(209, 154, 102); font-size: 6px;&quot;&gt;p&lt;/span&gt;) {&lt;br style=&quot;font-size: 6px;&quot;&gt;    &lt;span style=&quot;color: rgb(229, 192, 123); font-size: 6px;&quot;&gt;TreeNode&lt;/span&gt;&amp;lt;&lt;span style=&quot;color: rgb(229, 192, 123); font-size: 6px;&quot;&gt;K&lt;/span&gt;,&lt;span style=&quot;color: rgb(229, 192, 123); font-size: 6px;&quot;&gt;V&lt;/span&gt;&amp;gt; r, pp, rl;&lt;br style=&quot;font-size: 6px;&quot;&gt;    &lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic; font-size: 6px;&quot;&gt;if &lt;/span&gt;(&lt;span style=&quot;color: rgb(209, 154, 102); font-size: 6px;&quot;&gt;p &lt;/span&gt;!= &lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic; font-size: 6px;&quot;&gt;null &lt;/span&gt;&amp;amp;&amp;amp; (r = &lt;span style=&quot;color: rgb(209, 154, 102); font-size: 6px;&quot;&gt;p&lt;/span&gt;.&lt;span style=&quot;color: rgb(239, 89, 111); font-size: 6px;&quot;&gt;right&lt;/span&gt;) != &lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic; font-size: 6px;&quot;&gt;null&lt;/span&gt;) {&lt;br style=&quot;font-size: 6px;&quot;&gt;        &lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic; font-size: 6px;&quot;&gt;if &lt;/span&gt;((rl = &lt;span style=&quot;color: rgb(209, 154, 102); font-size: 6px;&quot;&gt;p&lt;/span&gt;.&lt;span style=&quot;color: rgb(239, 89, 111); font-size: 6px;&quot;&gt;right &lt;/span&gt;= r.&lt;span style=&quot;color: rgb(239, 89, 111); font-size: 6px;&quot;&gt;left&lt;/span&gt;) != &lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic; font-size: 6px;&quot;&gt;null&lt;/span&gt;)&lt;br style=&quot;font-size: 6px;&quot;&gt;            rl.&lt;span style=&quot;color: rgb(239, 89, 111); font-size: 6px;&quot;&gt;parent &lt;/span&gt;= &lt;span style=&quot;color: rgb(209, 154, 102); font-size: 6px;&quot;&gt;p&lt;/span&gt;;&lt;br style=&quot;font-size: 6px;&quot;&gt;        &lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic; font-size: 6px;&quot;&gt;if &lt;/span&gt;((pp = r.&lt;span style=&quot;color: rgb(239, 89, 111); font-size: 6px;&quot;&gt;parent &lt;/span&gt;= &lt;span style=&quot;color: rgb(209, 154, 102); font-size: 6px;&quot;&gt;p&lt;/span&gt;.&lt;span style=&quot;color: rgb(239, 89, 111); font-size: 6px;&quot;&gt;parent&lt;/span&gt;) == &lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic; font-size: 6px;&quot;&gt;null&lt;/span&gt;)&lt;br style=&quot;font-size: 6px;&quot;&gt;            (&lt;span style=&quot;color: rgb(209, 154, 102); font-size: 6px;&quot;&gt;root &lt;/span&gt;= r).&lt;span style=&quot;color: rgb(239, 89, 111); font-size: 6px;&quot;&gt;red &lt;/span&gt;= &lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic; font-size: 6px;&quot;&gt;false&lt;/span&gt;;&lt;br style=&quot;font-size: 6px;&quot;&gt;        &lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic; font-size: 6px;&quot;&gt;else if &lt;/span&gt;(pp.&lt;span style=&quot;color: rgb(239, 89, 111); font-size: 6px;&quot;&gt;left &lt;/span&gt;== &lt;span style=&quot;color: rgb(209, 154, 102); font-size: 6px;&quot;&gt;p&lt;/span&gt;)&lt;br style=&quot;font-size: 6px;&quot;&gt;            pp.&lt;span style=&quot;color: rgb(239, 89, 111); font-size: 6px;&quot;&gt;left &lt;/span&gt;= r;&lt;br style=&quot;font-size: 6px;&quot;&gt;        &lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic; font-size: 6px;&quot;&gt;else&lt;br style=&quot;font-size: 6px;&quot;&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic; font-size: 6px;&quot;&gt;            &lt;/span&gt;pp.&lt;span style=&quot;color: rgb(239, 89, 111); font-size: 6px;&quot;&gt;right &lt;/span&gt;= r;&lt;br style=&quot;font-size: 6px;&quot;&gt;        r.&lt;span style=&quot;color: rgb(239, 89, 111); font-size: 6px;&quot;&gt;left &lt;/span&gt;= &lt;span style=&quot;color: rgb(209, 154, 102); font-size: 6px;&quot;&gt;p&lt;/span&gt;;&lt;br style=&quot;font-size: 6px;&quot;&gt;        &lt;span style=&quot;color: rgb(209, 154, 102); font-size: 6px;&quot;&gt;p&lt;/span&gt;.&lt;span style=&quot;color: rgb(239, 89, 111); font-size: 6px;&quot;&gt;parent &lt;/span&gt;= r;&lt;br style=&quot;font-size: 6px;&quot;&gt;    }&lt;br style=&quot;font-size: 6px;&quot;&gt;    &lt;span style=&quot;color: rgb(213, 95, 222); font-style: italic; font-size: 6px;&quot;&gt;return &lt;/span&gt;&lt;span style=&quot;color: rgb(209, 154, 102); font-size: 6px;&quot;&gt;root&lt;/span&gt;;&lt;br style=&quot;font-size: 6px;&quot;&gt;}&lt;/pre&gt;" style="text;whiteSpace=wrap;html=1;fontSize=6;fillColor=#000000;" vertex="1" parent="1">
          <mxGeometry x="269" y="1492.94" width="230" height="140" as="geometry" />
        </mxCell>
        <mxCell id="AkrwQzVMCrjtAvMQB0j2-30" value="&lt;span style=&quot;font-family: Menlo, Monaco, Consolas, &amp;quot;Courier New&amp;quot;, monospace; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; white-space: pre; text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial; float: none; display: inline !important;&quot;&gt;&lt;font style=&quot;font-size: 6px;&quot;&gt;//左旋之后x则会变成xp的父节点&lt;/font&gt;&lt;/span&gt;" style="text;whiteSpace=wrap;html=1;labelBackgroundColor=none;fontColor=#FFFFFF;" vertex="1" parent="1">
          <mxGeometry x="154" y="1543" width="90" height="30" as="geometry" />
        </mxCell>
        <UserObject label="&lt;span style=&quot;font-size: 8px;&quot; class=&quot;code-block-extension-codeLine&quot; data-line-num=&quot;44&quot;&gt;这里有两部分。&lt;/span&gt;&lt;br style=&quot;font-size: 8px;&quot;&gt;&lt;span style=&quot;font-size: 8px;&quot; class=&quot;code-block-extension-codeLine&quot; data-line-num=&quot;45&quot;&gt;第一部分：x 原本就是其父节点的左子节点，则为外侧插入，右旋即可&lt;/span&gt;&lt;br style=&quot;font-size: 8px;&quot;&gt;&lt;span style=&quot;font-size: 8px;&quot; class=&quot;code-block-extension-codeLine&quot; data-line-num=&quot;46&quot;&gt;第二部分：内侧插入后，先进行左旋，然后右旋&lt;/span&gt;&lt;div style=&quot;font-size: 8px;&quot;&gt;&lt;br style=&quot;font-size: 8px;&quot;&gt;&lt;/div&gt;" link="&lt;div&gt;&lt;div&gt;&lt;span class=&quot;code-block-extension-codeLine&quot; data-line-num=&quot;43&quot;&gt;/**&lt;/span&gt;&#xa;&lt;span class=&quot;code-block-extension-codeLine&quot; data-line-num=&quot;44&quot;&gt;                     * 这里有两部分。&lt;/span&gt;&#xa;&lt;span class=&quot;code-block-extension-codeLine&quot; data-line-num=&quot;45&quot;&gt;                     * 第一部分：x 原本就是其父节点的左子节点，则为外侧插入，右旋即可&lt;/span&gt;&#xa;&lt;span class=&quot;code-block-extension-codeLine&quot; data-line-num=&quot;46&quot;&gt;                     * 第二部分：内侧插入后，先进行左旋，然后右旋&lt;/span&gt;&#xa;&lt;span class=&quot;code-block-extension-codeLine&quot; data-line-num=&quot;47&quot;&gt;                     */&lt;/span&gt;&lt;/div&gt;&lt;br&gt;&lt;div&gt;作者：大明哥_&lt;br&gt;链接：https://juejin.cn/post/7046393649650728997&lt;br&gt;来源：稀土掘金&lt;br&gt;著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。&lt;/div&gt;&lt;/div&gt;" id="AkrwQzVMCrjtAvMQB0j2-31">
          <mxCell style="text;whiteSpace=wrap;html=1;fontSize=8;fontColor=#FF3333;" vertex="1" parent="1">
            <mxGeometry x="90" y="1569" width="150" height="36" as="geometry" />
          </mxCell>
        </UserObject>
        <mxCell id="AkrwQzVMCrjtAvMQB0j2-33" value="红黑树的性质&#xa;红黑树是一种含有红黑结点并能自平衡的二叉查找树。它必须满足下面性质：&#xa;性质1：每个节点要么是黑色，要么是红色。&#xa;性质2：根节点是黑色。&#xa;性质3：每个叶子节点（NIL）是黑色。&#xa;性质4：每个红色结点的两个子结点一定都是黑色。&#xa;性质5：任意一结点到每个叶子结点的路径都包含数量相同的黑结点。（保证这棵树尽量是平衡的。）" style="text;whiteSpace=wrap;" vertex="1" parent="1">
          <mxGeometry x="-1600" y="20" width="560" height="140" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
